import{r as $,w as ne,c as q,_ as oe,o as ce,a as pe,b as n,d as l,e,f as E,g as xe,h as te,v as ue,u as R,F as L,i as V,t as o,n as M,j as ye,k as G,l as me,m as Ce,p as Z,q as re,s as ie,T as de,x as Se,y as ve}from"./index-CpTbaDFB.js";const fe={title:"小王子",author:"安托万·德·圣-埃克苏佩里",translator:"林珍妮",publisher:"译林出版社",description:"《小王子》是法国作家安托万·德·圣-埃克苏佩里于1942年写成的著名儿童文学短篇小说。",totalChapters:29,language:"zh-CN",cover:"",year:2010},Ie=[["圣埃克苏佩里（1900——1944），法国里昂人，作家。他首先是一个出色的飞行员，其次才是一个作家。1921年到1923年，他在法国空军中服役，先是后备飞行员，后成为民航驾驶员，参加了开辟法国——非洲——南美洲国际航线的工作。","他在各种艰苦条件下都飞过，还曾经因为飞机失事被困雪山七天。平常他抓紧时间在各种艰苦的条件下写作，成就斐然。","1939年，德国法西斯入侵法国。尽管圣埃克苏佩里曾多次负伤，被医生认为不能再入伍，但他坚决要求，终于被获准编入2/33空军侦察大队。1940年法国溃败，他所在的部队损失惨重，被调往阿尔及尔。他复员后流亡美国，在美国期间，他继续写作，发表了《战机飞行员》、《给一个人质的信》以及童话《小王子》。尽管身体状况不太理想，年龄也偏大，但他还是继续请缨为受法西斯蹂躏的法国作战。1943年，他来到了法国在北非阿尔及尔的抗战基地。上级只让他执行五次飞行任务，他却主动要求增加到八次。1944年7月31日上午，他出航执行第八次任务，从此再也没有回来。牺牲时，年仅四十四岁。","2000年，一个渔夫打捞到一条手链，上面有圣埃克苏佩里的名字和送他手链的出版商的名字。在法国一处海岸，人们又找到了他所驾驶的飞机的残片。多年来人们一直传说，圣埃克苏佩里像小王子一样回到了B 612星球，这当然只是出自人们的美好想象，现实是，他确实是像一个英雄一样为国捐躯了。","法国人一直把圣埃克苏佩里当做民族英雄，在他逝世五十周年之际把他的肖像印在五十法郎的票面上。而对世界各地的小读者来说，他的盛名来自《小王子》。这篇20世纪流传最广的童话，从1943年发表以来，已被译成一百多种文字，还被拍成电影、搬上舞台、灌成唱片。据说《小王子》在全世界的销量仅次于《圣经》，当然，这个说法未必准确，但读者多年来的热爱和追捧却是确凿无疑的。","那么，《小王子》究竟是一本怎样的书呢?","首先，《小王子》是一个童话，但不是一个普通意义上的童话。它充满了对人类生活状态的思考，是一个所谓「哲理童话」。但它没有讲任何大道理。它甚至没有「娓娓道来」地讲任何道理。它与说教无关。一切都蕴藏在这个如诗如画的故事里，蕴藏在星星、沙漠和清泉里，蕴藏在小王子银铃般的笑声里。它就像真理本身那么朴素动人。合上书，你会觉得甜美而忧伤，也许还会有点想哭呢。有人说这是一个沉重的童话。也许是吧。深者见其深，浅者见其浅，这正是一切好故事的品质。","其次，《小王子》语言非常简单优美，不仅能让小孩子听懂，读懂，也很适合大人阅读，帮助大人重拾好的语言习惯——大人的语言世界常常是混乱和不洁净的。","说到《小王子》的成书背景，我们可以从三个方面来理解：","一是圣埃克苏佩里的飞行员生活。","他曾经因飞机故障降落在撒哈拉沙漠，书中提到的茫茫沙漠、恐慌、口渴，都是他亲身体验过的，所以才会写得这么真实。","当一个人总是从三万英尺的高空俯瞰芸芸众生，他对这个世界自然有独特的思考。他的视野是如此广阔，相比之下人的狗苟蝇营却显得那样渺小。头上是浩瀚的星空，心中是澎湃的感情。","二是当时的时代背景。","二战进行到最激烈的时候，作者被迫流亡美国。这场不仅破坏人们生活，也摧毁人们很多美好信念的战争，对他的震撼是可想而知的。他重新思考人存在的价值，思考人对物质的追求和被蒙蔽的心灵。","三是他自己的生活。","那朵惹人喜爱却令人心碎的玫瑰，其实是作家深爱的妻子的一个投影。当然，蕴涵了这么深的哲理，这朵花就不能被单纯看做作家的妻子了。但他告诫我们：爱的执着，是来自于一次次的浇水、呵护和倾听。「正因为你为你的玫瑰花费了时间，才使她变得这么重要。」","在行动上，在思想上，在语言上，圣埃克苏佩里都是一个巨人。正因为如此，他才能写出这么质朴又意味深长的作品。","通过这个童话，圣埃克苏佩里带着我们感受生活的美好，接触生活的本质，而不是像小王子看到的那些「大人」，为权势、虚荣、职务、学问之类表面的东西忙忙碌碌。那个自以为很有权威，其实却成了对权威的追求的牺牲品的国王；那个要求别人向他不断脱帽和鼓掌的自负的人；那个为喝酒感到惭愧，为忘记惭愧而拼命喝酒的家伙；热衷于统计星星数目的商人；自己从不出门的地理学家；拘泥于职责的劳累的点灯人……他们都有个共同的特点，就是把真正美好的东西忽略掉了。","小王子说：「使沙漠如此美丽的，是它在某处藏着一眼泉水。」","也许我们可以把这句话简单理解为：使生活如此美丽的，是我们藏起来的真诚和童心。","《小王子》陪伴很多孩子成长，成为他们人生中一个美好的印记；也影响了许多成年人，触动他们深藏的童心。","小王子说：「这就是我的秘密。其实很简单：我们用心才看清楚，用眼睛是看不见本质的东西的。」","对于广大读者来说，这也是指出了读这本书的一个秘密。用眼睛，也要用心去看。","还有，我们都愿意相信，小王子还活着，和他的玫瑰、他的小羊幸福地生活在一起，笑起来声音像银铃一样。"],["请孩子们原谅我把这本书献给一位大人。我有这样做的充分理由：这位大人是我最要好的朋友。","我还有另一个理由：这位大人什么都懂，他完全能理解写给孩子们阅读的书籍。","我还有第三个理由：这位大人住在法国，正在忍饥挨饿，他需要别人的安慰。","要是你们认为这些理由还不充分，那我就把这本书献给小时候的他吧——所有的大人都经历过童年。（但很少有大人记得自己曾是孩子。）","因此，我把我的献辞改为：","献给从前那个小男孩列翁·维尔特。"],["六岁那一年，我在一本描写原始森林的书里看见一幅扣人心弦的图画。那本书的书名叫做「丛林奇遇记」。图中画的是正在吞吃野兽的蟒蛇。下面是这幅画的复印件。","书中说：「蟒蛇囫囵吞下猎物，肚子撑得它不能动弹，要躺六个月才能把猎物消化掉。」","从此，我对丛林的种种奇事产生了无穷尽的遐想。我也用彩色铅笔绘下我的第一幅画。我称它为一号画。一号画如下：","我把我的杰作拿给大人看，还问他们，我的画是否吓坏了他们。","他们回答我说：「一顶帽子有什么可怕的？」","我画的不是一顶帽子，而是一条正在消化大象的蟒蛇啊。我又画了一张画，画的是蟒蛇和它肚子里的大象，好让大人看懂我的画。他们总是需要我们给他们解释的。我的二号画如下：","大人们劝我，别画这些肚子没打开或打开了的蟒蛇了，把心思放到地理、历史、算术、语法上去吧。就这样，我在六岁这一年放弃了画家的光辉生涯。一号画、二号画的失败令我垂头丧气。大人们老是需要孩子们费尽唇舌，给他们再三解释，不然就一窍不通，真把我们累得够呛。","我只好选择另一门职业。我学会了驾驶飞机，几乎跑遍了世界各地。地理确实帮了我的大忙。在空中，我一眼就能认出中国和亚利桑那，这样的本领很管用——如果夜航时迷了路。","我一生与许多重要人物打过交道，我在大人当中生活了很长时间，我仔细地观察过他们，然而我对他们的看法没有多大的改善。","我始终保留着我的一号画。遇到一个我认为略为懂事的大人，我就用这幅画做试验，看他是否真的懂事，但他们总是这样回答我：「这是一顶帽子。」听了这样的话，我就不再与他们谈蟒蛇、原始森林、星星了。我谈他们能理解的事情，例如桥牌啦，高尔夫球啦，政治啦，领带啦。大人们便很满意，以为他们认识了一个通情达理、善解人意的人。"],["从此我孤独地生活着，没有一个可以推心置腹的朋友。这种状况一直延续至六年前。六年前，我的飞机出了故障，发动机里的某个部件被撞坏了，我被迫在撒哈拉沙漠降落。身边没有机械师，没有一个乘客，我只好勉为其难，自己动手，试着修理部件。我带的水仅够喝一个星期，能否修好飞机，关系到我的生死存亡了。","第一夜，我在远离人烟、千里之遥的沙漠上睡觉。比起那些乘着木排，在茫茫大洋中挣扎漂浮的遇险者，我更显得孤独无助。","朝霞初露的时候，一个细细的奇妙的声音把我唤醒。你不难想像我当时有多惊讶了。这细细的奇妙的声音说：","「劳驾……请你给我画一只绵羊吧！」","「你说什么？」","「给我画一只绵羊……」","我像遭了雷击，一跃而起。我使劲揉我的眼睛，仔细地看了看，只见一个很奇特的小小的人儿，他正在那儿注视我呢。下面就是以后我给他画的最为成功的一幅肖像画。","当然，它没有他本人可爱俊美，这可不能怪我，该怪大人，是他们在我六岁那年葬送了我的画家生涯。除了画打开肚子和没打开肚子的蟒蛇之外，我没有画过一张画。","我大吃一惊，眼睛瞪得溜圆，看着这位突然出现的人儿。你们可别忘了，这儿是远离人烟、千里之遥的地方啊。我的这个小人儿一点不像迷了路，也不像是累死、饿死、渴死、吓死的鬼魂。他一点不像迷失于沙漠中的孩子，不像远离人烟、千里之遥的孩子。","我终于能够张口说话了，我问他：","「……你在这儿干什么？」","他不慌不忙地重述他的要求，像说一件很严肃的事情：","「请你给我画一只绵羊……」","当神秘的东西使得你心惊肉跳的时候，你不敢不听他的命令。虽然，身处远离人烟的荒漠，面临死亡的威胁，叫人画画的要求又未免荒堂，我还是从口袋里掏出一张纸和一枝钢笔。我忽然记起，除了钻研地理、历史、算术、语法，我没有画过画，便没好气地冲小人儿说，我不会画画。","他说：「不要紧，给我画一只绵羊吧。」","我从没画过绵羊，只画过那两张画。我就给他画了其中的一张，就是没有打开肚子的蟒蛇。我吓了一跳，我听见小人儿说：","「不！不！我不要象在蟒蛇的肚子里。蟒蛇太可怕，象太占地方。我的家地方不大。我要绵羊，给我画一只绵羊吧。」","我便画了一头羊。","他仔细看看，然后说：","「不好！这是一头患了重病的羊。给我画另一头吧。」","我又画了一只羊。","我的朋友露出亲切可爱的微笑，并没有责怪我的意思，他说：","「你瞧瞧，这不是小羊，是公羊，它长着角哩。」","我又画了一张。","这一张画和前面两张一样，遭到了他的拒绝：","「这只太老了，我要一只能活很久的绵羊。」","我急于着手拆卸我的发动机，失去了耐性。我胡乱涂了下面这幅画。","而且我冲他说：","「这是一只箱子，你要的绵羊在里面。」","然而我惊讶地看到，我的这位小法官竟眉开眼笑：","「我要的正是这样的箱子！这只绵羊要很多草吗？」","「为什么你提这个问题？」","「因为我的家太小啦……」","「肯定够了。我给你的是一只很小很小的绵羊。」","他低头看画。","「没有这个这么小吧……咦！它睡熟了……」","我就这样认识了小王子。"],["过了好久好久，我才弄明白他是打哪儿来的。","小王子向我提了许多问题，却从不理会我对他提的问题。我从他无意中吐出的片言只语里，逐渐知道了他的来历。","例如，当他第一次看见我的飞机的时候（我不愿画飞机，太复杂了），就问我：","「这是什么玩艺儿呀？」","「它不是玩艺儿，它会飞。这是飞机，是我的飞机。」","我挺自豪地告诉他我会飞。他嚷起来：","「怎么？你是从天上掉下来的吗？」","「是的。」我并没有吹嘘的意思。","「啊！这就奇了……」","小王子发出清脆悦耳的笑声，他这一笑可惹恼了我。我不喜欢别人对我的不幸打哈哈。然后他又说：","「这么说，你也是从天上下来的！你住在哪一个星球上？」","这句话犹如一道亮光，让我马上瞥见了他突然出现的秘密。","我以突袭的方式问他：","「你是从另一个星球来的？」","他不答。他看着我的飞机，轻轻地点头：","「从你乘的这玩艺来看，你确实不可能来自很远的地方……」","他陷入沉思。过了很久，他从口袋里掏出我画的绵羊，低头凝视他的宝贝。","你们不难想像，听了他那句无意透露的「其他星球」的话后，我会怎样惊讶吧。我竭力从中探听他的来历：","「我的小人儿，你从哪儿来？你的家在哪儿？你要把你的绵羊牵到哪儿去？」","他默默不答。然后才说：","「你给了我一个箱子，太好了。夜里可以给绵羊做屋子了。」","是呀，如果你乖，我还要给你一根绳子，白天给你拴羊用。我还要给你一根拴羊的桩。","我的建议显然惹恼了小王子：","「拴住它？亏你想得出这样的主意！」","「你不拴住它，它会乱跑的呀，会走失的呀。」","我的朋友发出清脆的笑声：","「你以为它会跑到哪儿去呢？」","「到处乱跑呗，朝前跑呗……」","小王子告诉我：","「这倒不成问题，我的家小得很呢！」","他的神色略带忧伤，说：","「朝前跑，也跑不了多远……」"],["就这样，我知道了第二件很重要的事情：他打那儿来的星球比一幢房子大不了多少！","我并不因此大惊小怪。","我知道，除了起了名字的大星球，如地球、木星、火星、金星，还有成千上万的星球。有些星球小到连望远镜都难以观测。天文学家发现一颗星，就用号码给它命名，例如叫它「小行星3251号」。","我有充分的证据认为小王子打那儿来的星球就是B612号小行星。这颗小行星仅仅在一九〇九年被一位土耳其天文学家用望远镜看见过一回。","在国际天文会议上，他为他的发现做了雄辩的论证，但没有人相信他的报告。因为他穿的是土耳其人的服装。大人们就这个德性：以衣冠取人。","幸好，为了维护B612小行星的声誉，土耳其独裁者颁布了一条法令，命令百姓改穿欧式服装，否则处以死刑。一九二〇年，这位土耳其天文学家身穿一套极考究的西服，再一次在国际会议上做了论证。这一回，他得到了大家的认可。","我对你们详细报告发现小行星B612的这些细节，把它的号码告诉你们，都是由于那些大人们的缘故。因为大人们对数字情有独钟。如果你对他们介绍一个新朋友，他们从不打听他的基本情况，他们从不会问你：「他的嗓子怎么样？他喜欢玩什么游戏？他是否采集蝴蝶标本？」而是问：「他几岁了？有多少个兄弟？体重多少？他的父亲挣多少钱？」他们认为了解了这些情况，就了解了一个人。","如果你告诉大人：「我看见一幢漂亮的红砖房子，窗前摆着天竺葵，鸽子在屋顶栖息……」他们便无法想像这是一幢怎样的房子。你必须对他们说：「我看见一幢值十万法郎的房子！」他们就会惊叹：「多漂亮的房子啊！」","所以，如果你对他们说：「这世上确实存在一位王子，证据就是他可爱俊美，脸带笑容，他要一只绵羊。一个人要一只绵羊，就是他存在的证明。」他们会不以为然，耸耸肩，以为你是不懂事的孩子！但如果你对他们说：「他打那儿来的星球是小行星B612。」他们就深信不疑了，就不会用没完没了的问题烦你了。他们就这副德性。我们不要责怪埋怨他们，孩子对大人应当尽量地宽容。","当然，我们是理解生活的人，我们才不会把数字放在眼里呢！我喜欢以讲童话的方式讲这个故事。我喜欢这样讲：","「从前有个小王子，他住在小行星里。这颗行星比他自己大不了多少。他需要一个朋友。」对于理解生活的人，这样讲似乎要真实得多。","我不喜欢别人漫不经心地读我的书。提起这些往事，我还挺伤心的。我的朋友牵着他的羊走了六年了。我在这儿讲述他的故事，是为了不忘记他。忘了朋友是可悲的。并不是每个人都有朋友的。也许有一天我也像大人那样，除了数字，对别的东西都失去兴趣。为了这个缘故，我买了一盒颜料和几枝铅笔。到了我这个年龄才重拾画笔是困难的。而且，除了在六岁那年画过一条打开肚子的蟒蛇和一条没打开肚子的蟒蛇之外，我没有画过别的画。当然，我可以画最逼真的人像画。但能否成功，我把握不大。这一幅画得可以，另一幅却画得不像。对他的个儿高矮，我也记得不太真切。这幅把他画得太高，另一幅把他画得太矮。该给他的衣服抹什么颜色，我也犹豫不决。我在画纸上抹来抹去，画了张约莫相似的肖像，但某些重要部位也许弄错了。对这一点，你们一定要谅解。我的朋友从不向我解释，大概他以为我和他一样；可是我呢，很遗憾，我不能透过箱子看到里面的绵羊。也许我有点像大人了。我大概老了。"],["每一天，我都从他那儿获得一些有关星球、启程、旅行的知识。这些知识是逐渐得到的，只要想到什么问题就提什么问题。第三天，我就是这样了解到有关猴面包树的事情的。","这一回还真亏了绵羊。因为小王子突然对一件事产生了极大的怀疑，突然问我：","「羊吃灌木，这是真的吗？」","「是呀，是真的呀。」","「啊，那我很高兴。」","我不明白，羊吃灌木为什么这么重要。小王子又问：","「这么说，它们也吃猴面包树啦？」","我提醒小王子，猴面包树不是灌木丛，而是像教堂一样巍峨高大的树。即使他弄一群大象来，它们也啃不完一棵猴面包树。","想到一群象啃猴面包树的情景，小王子忍不住笑了：","「那它们非得叠罗汉了……」","他很机灵，指出：","「猴面包树的树苗挺小的呢！」","「你说得对！可是你为什么希望你的绵羊吃猴面包树苗呢？」","他说：「嘿！那还用说吗！」似乎这是再明白不过的事情。而要我自己想明白这个问题，我确实要绞尽脑汁了。","是的，小王子的星球和其他星球一样，长着益草，也长着毒草，因此也就有了益草的种子和毒草的种子。但种子是看不见的，它们沉埋在土地深处，直至其中一颗突然苏醒……它伸伸懒腰，羞羞答答，向着太阳伸出一株青嫩可爱、娇小玲珑、不伤人的幼苗来。倘若它是萝卜或玫瑰的幼苗，我们可以任由它茁壮成长；倘若它是有毒的植物，一经认出，我们就必须马上拔除。小王子的星球上埋着可怕的种子……这就是猴面包树的种子，星球的土壤饱受其害，不及时动手除掉它们，你就永远别想摆脱它们的侵害。它的树身枝叶占据整个星球，如果星球小，而猴面包树过多，就会撑破星球。","后来小王子对我说：「人早上梳洗之后，一定要小心清理地球，要经常督促自己，要养成良好的习惯。猴面包树的苗儿与玫瑰花的苗儿长得极相似，把它们区别开来之后，就要经常督促自己拔除猴面包树苗。这活儿单调乏味，但也挺容易干。」","有一天，他建议我用心画一幅猴面包树的画，要让我们那儿的孩子牢牢记住它。他对我说：「有朝一日他们外出旅行，这幅画就派上用场了。有些时候，耽搁了的工夫造不成多大的恶果，然而对猴面包树的危害却不能轻视。我知道，有一颗星球上住着一个懒人，他忽略了剔除三棵猴面包树苗的事儿……」","在小王子的指点下，我画了这个星球。我素来不喜欢装腔作势，摆出一副道学家的面孔训人，但许多人对猴面包树的危害认识不足，在小行星上迷路的人遇到的风险又那么大，我不能不一反平日矜持的常态，大声疾呼：「孩子们，当心猴面包树啊！」为了向朋友们发出警告，让他们提防早已威胁我们的危险——而他们和我一样，对这样的危险一无所知——我对这幅画下足了功夫。提醒大家警惕危险，是我义不容辞的责任。也许你们看了这幅画后会纳闷：「为什么他在这本书里画的其他画没有这张猴面包树的画雄壮，有气势？」我的回答很简单：我尽了力去画其他的画，但心有余而力不足。而画猴面包树的时候，为急迫的需要所激励，我的画便超出了原有的水平。"],["啊！小王子！我就是这样逐渐了解到，你过着并不顺心愉快的生活。长期以来，你惟一的消遣就是观赏夕阳西下的美景。第四天早晨，我又知道了这一件事。你对我说：","「我喜欢夕阳。我们去看日落的壮观吧……」","「可是要等啊……」","「等什么？」","「等太阳下山的时刻呀。」","你露出惊讶的神气，然后又自觉可笑，说道：","「我老以为我是在自己家里呢！」","这话说得不错。大家都知道，在美国，太阳正在天空的当中，而这时在法国，太阳已经西下。若能在一分钟之内赶到法国，就可以观看落日的壮景，遗憾的是法国离得太远了。但是，在你那小小的星球上，你只要把椅子挪几步就能看到日落了。什么时候要看夕晖都能看得到……","「有一天，我看了四十三次太阳下山！」","过了一会儿，你又说：","「你知道……一个人愁闷的时候，都爱看西下的夕阳……」","「看了四十三次太阳西下的那一天，你的心情差得很吧？」","小王子没有答话。"],["第五天，仍然是多亏了那只绵羊，小王子生活中的秘密才被泄露了出来。他似乎对一个问题反复思考了许久，然后开门见山，直截了当地突然问我：","「绵羊吃灌木，它也吃花吗？」","「绵羊遇见什么吃什么。」","「带刺的花也吃？」","「吃的。带刺的花也吃。」","「那刺还有什么作用呢？」","我不知道刺还有什么作用。当时我正忙于把发动机上拧得过紧的螺栓弄下来。看来故障极其严重，我正在犯愁呢。最让我担心的，是饮用水已经所剩不多了。","「那刺还有什么作用呢？」","小王子一旦提出疑问，就要寻根究底，追问个没完，绝不会中途而废。我正被螺栓闹得心烦意乱，便顺口答道：「刺不起作用，都是因为花儿心眼太坏！」","「哦？」","沉默了一会儿，他悻悻地说：","「我不信你说的话！花儿弱不禁风，花儿天真无邪，她们自顾不暇呢。她们身上长了刺，是为了给自己壮胆，为了保护自己……」","我不说话。这时我的念头是：「如果这颗螺栓拧不下来，我就用锤子把它砸了。」","小王子打断我的思路：","「你相信，你，相信花……」","「别烦我了！别烦我了！我什么也不信！我不过在信口开河啊。我，我在忙正经事呢。」","他瞪着我，愣住了。","「你在忙正经事！」","他看见我手攥锤子，两手油污，俯身对着一件他认为很丑的物件。","「你说话的时候像个大人！」","听了这话，我有点难为情。然而他又毫不留情地讲了一句：","「你是非不分……你混淆黑白！」","他真的气坏了。一头金发在风中乱摇。","「我知道一颗行星，上面有一位红脸先生。他从未嗅过一朵花。他从未观赏过一颗星星。他从未爱过一个人。他什么事也没干过，只会做算术中的加法。他整天就像你一样，反复地唠叨：『我是个正经人！我是正经人！』真是自命不凡，神气活现！可他不是人，是蘑菇！」","「是什么？」","「是蘑菇！」","小王子气得脸色发白。","「几百万年以来，花儿都长着刺；几百万年以来，羊也在吃花。难道我想知道，花儿为什么憋足了劲长没用的刺，这是不正经的事吗？这不比红脸胖子的加法更正经，更重要吗？要是我认识的世界上的一朵独一无二的花，她哪儿也不去，就爱长在我的星球上，可是却在某天早晨，被小绵羊一不留神咬死了，难道这样的事也不重要吗？」","他的脸由白转红，然后说：","「要是有个人爱上了一朵花，这朵花不长在亿万颗星球上，只长在他的星球上，而他只要仰望星空，想到『我的花儿就在那儿……』，心就陶醉在幸福里，羊却吃了他心爱的花——这对他而言，简直是整个星空都黯淡无光了，难道这样的事还不重要吗？」","他说不出话来，突然嚎啕大哭。夜幕降临，我扔下手里的工具，顾不得锤子、螺栓、干渴、死亡了。在一颗星球上，在我的行星地球上，有一个小王子需要安慰！我把他搂进怀里，轻柔地摇着他。我抚慰他：「你爱的那朵花不会有危险的……我给你的绵羊画一个口罩……我给你的花儿画一副铠甲……我……」我也不知道我还说了什么话，只觉得自己笨嘴笨舌，不懂得该怎样安慰他，打动他……眼泪的王国太神秘了。"],["我很快就对这朵花有了更深的了解。小王子生活的星球上长着很朴素的单瓣花，她们一点儿也不占地方，也不扰人，在草地上朝开暮落。而这朵花的种子不知道是从哪儿来的。小王子密切注视着她的与众不同的嫩枝。她很可能是新品种的猴面包树苗呢。然而枝条很快就停止伸展，竟开始结花蕾。小王子看着硕大的花苞，预感到她会绽放出奇异的花朵。然而花儿躲在绿莹莹的屋子里精心打扮。","她仔细挑！颜色，慢条斯理地穿衣，一片片地搭配她的花瓣。她不肯像虞美人那样，皱巴巴地就往外跑，就亮相。她要容光焕发地见人。唉！不错，她就是朵极爱俏的花儿。她神秘兮兮地梳妆打扮了好几天，终于在一天早晨，在太阳出来的那一刻，她露脸亮相了。","精心打扮了几天，算准了出场的时间，她却打着哈欠说：","「唉！我刚刚睡醒呢……请你原谅……我的妆还零乱呢……」","小王子忍不住赞叹：","「您真美啊！」","「是吗，」花儿柔声说，「我和太阳同时诞生……」","小王子看准她并非谦恭的女子，不过，她确实美丽动人！","「是吃早点的时候了吧。」很快她又说。「劳驾您给我……」","小王子为自己的疏忽而感到羞惭，赶紧找了一壶清水，侍候花儿用餐。","不久，她爱慕虚荣的性情开始折磨他。例如，有一天，她对小王子说到她身上长的四根刺的用途。她说：","「这儿也许有老虎吧，老虎的爪子锋利得很呢！」","「我的星球上没有老虎。再说，老虎不吃草。」小王子表示异议。","「我可不是草。」花儿柔声说。","「对不起……」","「我一点也不畏惧老虎，但我讨厌风。您没有屏风吗？」","「你居然讨厌风啊……这可不好。」小王子对她有了看法。「这朵花倒很复杂……」","「晚上您用罩子把我罩起来吧。您这儿太冷，位置不好。我来的那个地方……」","她住了口。来这儿的时候她还是一颗种子呢，怎么可能了解别的地方呢。她撒的谎幼稚可笑，让人一下子就能识破。她觉得丢脸，便咳嗽了两三声，想把过错推到小王子身上去：","「我要的屏风呢？……」","「我正要去找屏风，是您和我说话的呀！」","她又故意咳嗽，存心让他内疚不安。","小王子很怜爱她，但她的做作令他生疑。他是个做事一丝不苟的人，常把无关紧要的闲话当真，难免招来不少麻烦。","有一天，他向我倾诉他的心事：「我本不该听信她的话的。永远也别信花儿讲的话。她们的作用就是供人观赏，供人嗅闻。我的花熏香了我的星球，但我不懂得为此高兴。她说的老虎爪子的话，本来应该打动我的心，我却生了她的气。」","他还说：","「那时我真是不懂事。要对一个人下定论，不应听其言，而应观其行。她芬芳馥郁，赏心悦目，我不应抛下她一走了之！我不理解她那不聪明的谎言饱含的深情。花儿是缺点不少、但优点也很多的矛盾的东西！那时我年纪太轻，不懂得珍惜她，爱她。」"],["我估计他是趁候鸟迁徙时出走的。出走的那天早晨，他认真收拾整理他的星球，仔细疏通火山口。他有两座活火山，热早饭挺方便的。他还有一座死火山。可是正如他说的：「日后的事很难说！」谁知道死火山会不会变活呢？所以他也疏通死火山。经过疏通，火山里的火焰缓缓燃烧，火山就不会喷发。火山喷发的道理与炉火一样。我们这些人太渺小，没有疏通火山的能力，所以火山才给我们造成很多麻烦。","小王子闷闷地拔除了最后几棵猴面包树苗。他知道自己不会再回来了。那天早晨，他觉得所有的家务活干起来都挺亲切的。最后一次给花儿浇水，准备给她盖上罩子，他竟觉得他想哭。","他对花儿说：「别了。」","她不做声。","「别了。」他又说。","花儿咳嗽，可不是因为着了凉。","她终于对他说：「我以前真傻，请你原谅。好好地享受生活吧，愿你幸福。」","她并没有责备他的意思。他觉得挺意外。","他不知所措地站在那儿，高举着罩子。他不理解她的脉脉深情。","「是的，我爱你，」花儿对他说，「你丝毫没察觉到我对你的爱，这是我的错。如今说也没用了。你和我一样傻。好好地享受生活吧，愿你幸福……你把这罩子放一边去吧，我不需要它。」","「可是风……」","「我并非如此的弱不禁风……清新的夜风对我的健康有好处，我是一朵花儿嘛。」","「可是动物……」","「如果我想认识蝴蝶，就必须能承受两三条毛虫。这似乎是很美的事。要不，谁会看望我呢？你呢，又快离我而去了。我一点不畏惧大的动物，我有爪子呀。」","她天真地伸出她的四根刺。然后又说：","「别婆婆妈妈，磨磨蹭蹭的了，闹得人心乱。你既已下了决心，那就走吧。」","她不愿让小王子看见她哭。她是一朵多么骄傲的花儿哟……"],["他居住的星球位于小行星325号、326号、327号、328号、329号、330号所在的地区。于是他决定首先拜访它们，在那儿找事干，并增长见识。","325号行星上住着一位国王。他穿着镶有紫红色袖口和领口的白鼬皮衣服，坐在式样简单然而威严的宝座上。","看见小王子，国王大声嚷：","「哈！来了一个老百姓。」","小王子心想：","「他从未见过我，怎么认得出我呢？」","他不知道，国王们把世界看得很简单，他们以为普天下的人都是他的百姓。","国王为终于成为另一个人的国王而自豪。他对小王子说：「过来，让我好好地瞧瞧你。」","小王子用眼睛搜寻可坐之处，可是行星被国王豪华的鼬皮塞满了，他只好站着，因为累了，他打了个哈欠。","「在国王面前打哈欠，违反礼节，我不准你打哈欠。」国王说道。","小王子抱歉地说：「我不是有意的。我长途跋涉，没有睡眠……」","「既然如此，」国王对他说，「我命令你打哈欠。我已经多年没看见别人打哈欠了。依我看，打哈欠挺好玩的。快！打吧！这是命令。」","「您的命令让我害怕……我打不了……」小王子涨红了脸。","「嗯，嗯，」国王说，「那么我……我命令你一会儿打，一会儿不打……」","显然，挨了小王子的冲撞，他有点气恼，话也说不流利了。","国王最关心的是别人尊重他的权威，他不允许别人违抗他的命令，他是一个典型的专制君王，但他毕竟是个善良之辈，下达的命令都合乎情理。","「要是我向一个将军下令，要他变成海鸟，将军是不愿服从的。这样，错不在将军，错在我身上。」他说，口齿很伶俐。","「我可以坐下来吗？」小王子怯怯地问。","「我命令你坐下。」国王说，他威风凛凛地一挥白鼬皮皇袍的下摆。","小王子有个问题弄不明白：这颗星球小得惊人，国王统治什么？","「陛下……」他说，「请原谅我向您提个问题……」","「我命令你向我提问题……」国王急忙说。","「陛下……您统治什么？」","「统治一切！」","国王指指他的星球，其他星球，所有的星球。","「所有这一切？」小王子问。","「所有这一切……」国王答道。","因为他不但是个专制君主，还是宇宙之王。","「所有的星星都听命于您吗？」","「当然啦，」国王说，「它们令出即行。我不能容忍无纪律的行为。」","小王子既赞叹又羡慕国王的权威。如果他也掌握这样的权力，一天之内他就可以不止观赏四十三次，而是观赏七十二次，甚至一百次，或两百次日落，还不用挪动椅子！想到被他遗弃的小行星，他有点伤感惆怅。他壮壮胆，请求国王开恩：","「我想观看夕阳西下……求您开恩……命令太阳下去吧……」","「如果我命令将军像蝴蝶那样，在花间飞来飞去，或命令他写一部悲剧，或变成海鸟，如果将军接到命令后不愿执行，你说是他的错还是我的错？」","「那是您的错。」小王子不假思索便脱口而出。","「你说得对，不能强人所难。」国王说。「权威首先必须建筑在理性上。如果你命令你的人民跳海，他们定会造反。我有命令百姓服从的权利，那是因为我的命令合符情理。」","「那么，我要求的日落呢？」小王子问道。一旦提出一个问题，他是不会中途而废的。","「你会看到你要求的日落的，我会发布命令。要科学管理一个国家，下命令应等时机成熟。」","「什么时候时机才成熟呢？」小王子问。","「嗯，嗯，首先我要查看大皇历。嗯，嗯，要等到……今晚……十时四十分左右……左右……你会看到他们怎样执行我的命令。」","小王子打了个哈欠。他感到惋惜，因为他的要求泡汤了。再说，他已经有点儿腻烦了。","「我在这儿没事可干了，」他对国王说，「我要告辞了！」","「你别走。」国王说，拥有一个百姓，对他来说是一件值得自豪的事。「别走，我任命你为部长！」","「哪个部的部长？」","「……司法部。」","「可这儿没人可审呀！」","「这可就难说了，」国王说，「我还没视察过我的王国呢。我上了年纪，这儿又没有停马车的地方，走路又太累了。」","「啊，我已经看过了。」小王子俯身朝星球的另一端又瞟了一眼。「那儿也没一个人……」","「你就审你自己吧，」国王说，「这是最难办的事。审自己比审别人难得多。你若能审自己，你就是真正的聪明人。」","「我嘛，」小王子说，「无论在什么地方我都能审自己，无需住在这儿。」","「嗯，嗯，我知道。」国王说。「在我的星球的某一处，有一只老耗子。我在夜里听到的。你可以审这只老耗子。隔一段时间判它一次死刑。这样，它的死活就由你的裁判决定了。但你每一次都要免除它的死罪，你要悠着点，因为就只有这一个犯人了。」","「我可不喜欢判人死刑。」小王子说。「我看我该走了。」","「别走。」国王说。","小王子已经做好走的准备，但他不愿伤老国王的心，他对老国王说：「如果陛下您希望令出即行，您可以向我下达合理的命令。例如说，可以命令我在一分钟之内离开。我认为时机已经成熟……」","国王一言不发。小王子犹豫片刻，然后叹口气，抬腿走了。","国王急忙大叫：「我封你为大使。」","他摆出威风凛凛的神气。","小王子一面赶路，一面自言自语：","「大人们真怪。」"],["第二颗星球住着一个爱慕虚荣的人。","「啊！啊！崇拜我的人访问我啦！」看见小王子，这位爱慕虚荣的人打老远就高声喊。","爱慕虚荣的人以为别人都崇拜他。","「您好。」小王子说。「您的帽子真怪。」","「这顶帽子是用来敬礼的，」爱慕虚荣的人说，「有人向我欢呼的时候，我就用它敬礼。可惜这儿没一个人来。」","「您说什么？」小王子听不懂他的话。","「请你鼓掌吧。」爱慕虚荣的人建议。","小王子依言鼓掌。爱慕虚荣的人举起帽子，态度谦恭地行礼。","「这比拜访国王有趣多了。」小王子暗自想。他又一次拍巴掌。爱慕虚荣的人又举帽子行礼。","反复操练了五分钟之后，小王子厌倦了这个单调的游戏。","「该怎样做才能让您放下帽子？」小王子问。","爱慕虚荣的人听不见这句话。爱慕虚荣的人只听得见赞扬声。","「你对我真的崇拜到了五体投地？」他问小王子。","什么叫做『崇拜』？","『崇拜』就是承认我是星球上最帅、衣着最讲究、最富有、最聪明的人。","在你的星球上只有你一个人啊！","你就让我享受被人崇拜的快乐吧，仍然崇拜我吧！","我崇拜你，小王子耸耸肩，这有什么值得你快乐的呢？","小王子走了。","大人们确实怪得出奇。小王子一边赶路一边对自己说。"],["下一颗星球住着一个酒鬼。这次访问时间不长，但小王子极为不快。","你在干什么？小王子看见酒鬼在喝闷酒，面前摆着一大堆空瓶子和装满了酒的瓶子，就这样问他。","我在喝酒呀。酒鬼闷闷不乐地回答。","你为什么喝酒呢？小王子问他。","为了忘记呗。酒鬼答。","为了忘记什么？小王子有点可怜他，又问。","为了忘记羞愧呗。酒鬼低着头，老老实实地承认。","为了什么事羞愧呢？小王子打算帮助他，又问。","我为喝酒羞愧！酒鬼讲完后，闭了嘴巴不再讲话。","小王子大惑不解。小王子走了。","大人们真是没法理解。小王子一边赶路一边想。"],["第四颗星球是商人的星球。小王子到来的时候，商人正埋头忙碌，头也没抬起来。","您好！小王子说。您的香烟已经熄灭了。","三加二等于五，五加七等于十二，十二加三等于十五，你好。十五加七等于二十二，二十二加六等于二十八，我没时间点烟。二十六加五等于三十一。嗬！一共是五亿零一百六十二万二千七百三十一。","五亿个什么？","什么？你还在这儿？五亿零一百……我也闹糊涂了……我的活太忙了！我是个正经人，不爱讲废话！二加五等于七……","五亿零一百万个什么？小王子还在追问，他一旦提出问题，绝不中途而废。","商人抬起头：","我住在这个星球已经五十四年了，只受过三次干扰。第一次干扰发生在二十二年前，鬼知道从哪儿掉下一个愣头青，发出的声音大得吓人，弄得我的加法出了四个错；第二次干扰发生在十一年前，我患了关节炎，我缺乏体育锻炼，我没时间闲逛，我是个正经人；第三次……就是这一次！我刚好算到五亿零一百万个……","五亿零一百万个什么？","商人知道他休想安宁了：","五亿零一百万个小东西，有时在天上看得到的小东西。","苍蝇吗？","不是，是闪闪发亮的小东西。","蜜蜂吗？","不是，是金色的小东西，能教闲得发慌的人发痴做梦的小东西，可我是正经人，我没时间遐想做梦。","啊！是满天的繁星吗？","就是这个。满天的星星。","你要五亿多颗星星做什么？","是五亿零一百六十二万二千七百三十一颗。我是个一丝不苟的人，我务求精确。","你要星星干什么？","我要它们干什么？","是呀。","没什么用。我拥有它们。","你拥有星星？","是呀。","我见过一个国王，他……","国王不是『拥有』，他是『统治』。大不相同。","你拥有星星又怎么样呢？","拥有了星星，我就成了大富翁呗。","成了富翁有什么好处？","如果又有人发现了新的星星，我就把它们买下来呀。","小王子心想：这个人的推理方法有点像我见过的那个酒鬼。","他仍然提出问题：","怎样才能拥有星星？","商人烦了，没好气地反问：","你说，这满天的星星属于谁？","我不知道。它们不属于任何人。","那么它们属于我。因为我是第一个想到要拥有它们的人。","光是想就行了吗？","那还用说吗？你发现一颗没有主人的钻石，这颗钻石就归你了。你发现一个不属于任何人的岛，这岛就是你的了。你头一个想出一个主意，你就可以申请专利，这个主意就是你的了。而我呢，我拥有星星，因为在我之前没有一个人想过要拥有星星。","这倒是真的。小王子想。你要星星做什么用？","我管理它们。我数它们，一次又一次地数它们。商人说。这是件困难的事，但我是个正经人！","小王子对这个回答还不满意：","我若拥有一条围巾，我可以把它围在脖子上带走；我若拥有一朵花，我可以把它摘下带走；可你摘不下星星呀！","我不能摘星星，但我能把它们存入银行。","这是怎么回事？","我在一张小纸条上写上我的星星的数目，然后把它锁进抽屉里。","就这样？","这就行啦！","小王子想：这倒是挺好玩的，还挺有诗意的呢，但算不上是严肃正经的事儿。","对「严肃正经的事儿」，小王子的看法与大人的看法极不相同。","小王子说：我呢，我拥有一朵花，我就天天给它浇水；我拥有三座火山，我就每个星期给它们疏通清理。我也疏通死火山，因为日后的事难说。我能做对火山、对花有益的事，才叫做拥有它们。但你却不给星星做有益的事。","商人张口结舌，找不到话回答。小王子掉头走了。","大人们真是怪得没法说。小王子一边赶路一边嘀咕这一句话。"],["第五颗星球稀奇古怪，它是熠熠繁星中最小的一颗，它仅能容纳一盏路灯和一个点灯人。小王子怎么想都想不明白，这颗位于太空中不起眼的星球，既没有房屋，又没有居民，这路灯和点灯人有何用途。他想：这个点灯人也许古怪，然而他不会比国王、爱慕虚荣的人、商人、酒鬼更荒谬吧，至少他干的工作还有意义。他点亮路灯，如同给太空增添一颗星星，或一朵鲜花；他熄灭路灯，就是让花儿和星星休息睡眠。这活儿充满诗意，既然充满诗意，那就是有益的工作。","他走近星球，毕恭毕敬地向点灯人行礼：","你好。你刚才为什么把灯灭了？","这是规定。点灯人答道。早上好。","什么规定？","熄灯的规定。晚上好。","他点上灯。","你怎么又把灯点着了？","这是规定。点灯人说。","我不明白。小王子说。","用不着明白，点灯人说，规定就是规定。早上好。","他灭掉路灯。","然后他用红方格手帕抹抹额头。","这活儿可把我累苦了。从前的规定还合乎情理，早上熄灯，晚上点灯。熄灯之后休息，点灯之后睡觉……","现在的规定改了？","规定倒没有改，点灯人说，倒霉就倒霉在这儿！行星一年转得比一年快，而规定却没有改变！","这是怎么回事？","现在它一分钟转一次，我连一秒钟的休息时间都没有。每分钟要点亮、熄灭一次灯火！","这怎么可能呢？你这儿一分钟就是一天？","怎么不可能，点灯人说，我们已经聊了一个月了。","一个月？","是的，三十分钟，就是三十天！晚上好。","点灯人又点亮了路灯。","小王子看着他，小王子喜欢这个一丝不苟，按章办事的点灯人。他记起自己以前必须挪动椅子才能看到日落的情景。他很愿意帮助他的朋友。","你知道吗……我有个办法，你什么时候想休息就可以休息……","我一直想找个办法呢。点灯人说。","有个办法既能按章办事又能偷懒就好了。","小王子继续说道：","你的星球这么小，走三步就绕了一个圈。你只要放慢脚步，太阳就老在你的头顶上。你想休息的时候，你就往前走……你的白天要多长有多长。","这个办法解决不了我多大的问题，点灯人说，我平生喜欢的就是睡觉。","那你就太不走运了。小王子说。","我真的不走运。点灯人说。早上好！他又灭了路灯。","小王子一面赶路一面想：这个人会被其他人瞧不起的。会被国王、爱慕虚荣的人、酒鬼、商人瞧不起。可是他是惟一的我不觉得可笑的人，也许因为他没有光顾自己吧！","他惋惜地叹口气，又想：","这个人本来是惟一可做我的朋友的人，但他的星球实在太小了，搁不下两个人……","小王子不敢承认，他对这颗星球颇有好感的原因是，它得天独厚，二十四小时之内就可以观看一千四百四十次日落。"],["第六颗星球比刚才那颗大十倍。星球上住着一位老先生，正在撰写大部头著作。看见小王子，他大声嚷：","嗬！来了一个勘探人员！","小王子有点气喘，坐在桌子上。他赶了大老远的路呢！","你从哪儿来？老先生问他。","这是本什么巨著？小王子问。您在这儿干什么？","我是地理学家。老先生说。","什么叫『地理学家』？","地理学家是学者，知道哪儿有大海、江河、城市、山脉、沙漠。","这倒挺有趣的。小王子说。总算是真正的职业！他环顾地理学家的行星。他从未见过这样豪华的行星。","您的星球真美。这儿有大洋吗？","我不可能知道这事。地理学家说。","啊（小王子有点失望）！有山脉吗？","我不可能知道。地理学家说。","有城市、河流、沙漠吗？","我也不可能知道。地理学家说。","可你是地理学家啊！","不错，地理学家说，但我不是勘探人员。我这儿很缺勘探人员。计算城市、江河、山脉、大海、大洋、沙漠的数目，不是地理学家干的事。地理学家太重要了，没有工夫四处闲逛。他必须寸步不离办公室。他在办公室接见勘探人员，询问他们，记下他们的回忆。勘探人员引起了地理学家的兴趣，地理学家就要调查这位勘探人员的品质。","为什么？","一个撒谎的勘探人员会给地理学家的书带来灾难，酒喝得太多的也不行。","为什么？","酒鬼看的东西是重叠的，地理学家就会在有一座山的地方记下两座山。","小王子说：我认识一个人，他会成为糟糕的勘探员。","很可能。勘探人员的品质不错，我就调查他的发现。","你亲自去实地调查吗？","不，那太复杂了。我要求勘探人员提供证据。比如说，他发现了一座大山，我就要求他带大石来。","地理学家突然兴奋起来：","你呢，你是从远方来的！你是勘探队员！你给我描写你的星球吧！","地理学家打开他的登记册，削尖铅笔。他先用铅笔记下勘探人员的口述。勘探人员提供证据后，再用钢笔誊写。","请谈吧！地理学家说。","啊！我们那儿，可没意思了，小王子说，它才一点大，我有三座火山：两座活火山，一座死火山，可谁知道以后会有什么变化呢。","以后的事谁知道呢。地理学家说。","我还有一朵花。","我们不记录花的。地理学家说。","为什么不记录花呢？它是最美的东西！","因为它『昙花一现』。","什么叫做『昙花一现』？","地理书是一切书籍中最珍贵的书籍，从不会过时。山移位，海洋干枯都是极少发生的事。我们写的是永恒不变的东西。","可是死火山也会复苏。小王子打断他的话。什么叫做『昙花一现』？","火山死与不死，在我们看来都是一回事。地理学家说。我们重视的是山，山不会改变。","什么叫做『昙花一现』？小王子继续追问。他素来如此，一旦提出一个问题，绝不肯放弃。","『昙花一现』的意思就是『面临很快消失的危险』。","我的花儿也有很快消失的危险吗？","当然。","我的花会『昙花一现』，小王子想，而她只有四根刺保护自己，应付这个世界！我却抛弃了她，让她孤苦伶仃地待在我家！","他头一次体会到悔恨的感觉。然而他还是鼓起勇气问：","您能否指点我，我该去哪儿访问？","到地球上去吧，地理学家说，它非常有名……","小王子走了，一路上都在思念他的花儿。"],["第七颗星球就是地球。","地球可不是等闲之辈！地球上有一百一十一位国王（我当然没有忘记算上黑人国王）、七千位地理学家、九十万个商人、七百五十万个酒鬼、三亿一千一百万个爱慕虚荣的人，也就是说，约莫有二十亿个大人。","为了让你们对地球的面积大小有个具体形象的概念，我给你们打个比方。我告诉你们，世界上还没有人发明电的时候，六大洲需要维持一支由四十六万二千五百一十一个点灯人组成的真正大军。从稍远处眺望这支大军，真是蔚为壮观。点灯人的动作犹如芭蕾舞演员的动作：整齐划一，井然有序。首先上场的是新西兰、澳大利亚的点灯人，他们点亮路灯后就去睡觉。接着加入舞蹈行列的是中国和西伯利亚的点灯人，然后他们也隐没于后台。然后轮到俄罗斯和印度的点灯人，接着是非洲和欧洲的，然后是南美洲、北美洲。这支大军的进场顺序从不错乱，真是让人叹为观止。","惟有北极点灯人和他的南极同行，过着悠闲懒散的生活。北极和南极各自仅有一盏灯，他们一年只点两次灯。"],["好出风头，喜欢卖弄聪明的人，多少会讲几句大话，吹点牛皮。我给你们介绍点灯人的时候，也不太老实。我也许让不了解我们星球的人产生误解，造成错觉。人在地球上占的位置微乎其微。倘若让散居在地球上的二十亿人口集中在一起开大会，他们可以松快地站在二十英里长二十英里宽的广场上。可以把人类堆在太平洋最小的岛屿里。","当然，大人们不会相信这些话。他们以为自己占了很大的位置，自以为自己像猴面包树那么庞大。那你就建议他们算一算。他们不是喜欢数字吗？他们会高兴的。但我劝你们别多此一举了，挺麻烦的，毫无用处的。相信我的话吧。","小王子来到地球后，看不见一个人影，不由心里纳闷。他担心走错了路，到了别的星球了。这时，他看见沙地上有一个月白色的圆环在蠕动。","晚安！小王子随口说。","晚安。蛇说。","这儿是什么星球？小王子问。","是地球，非洲。蛇回答说。","哦？……地球上没人吗？","这儿是沙漠，沙漠里是没有人烟的，地球很大。蛇说。","小王子坐在一块石头上，抬头看天空：","我在想，星星发亮是否为了让每个人有一天能找到自己的星星。你看我的星球，它正好在我的头顶上……可它多么的遥远！","它真美。蛇说。你来这儿干什么？","我和一朵花赌气闹别扭呢。小王子说。","哦！蛇说。","他们都缄口不言了。","人在哪儿呢？小王子终于开口说话。待在沙漠有点孤独……","跟人在一起也孤独。蛇说。","小王子久久凝视着它。","你是奇特的动物，小王子终于说道，你像一根指头般细……","可我比国王的指头强大得多。蛇说。","小王子微微一笑。","你没有那么强大吧……你连爪子都没有……你连走路都不会……","船能送你走远路，可我能送你走更远的路。","它盘着小王子的脚踝，像一只金镯子。","我碰到谁，就能把他送回他来的地方，蛇还说，但你纯洁，你是从星球上来的……","小王子默默无言。","我同情你，在这花岗岩构成的地球上，你这么弱小。如果你有朝一日思念你的星球，我可以帮助你。我可以……","啊！我完全明白你的意思，小王子说，但你的话为什么句句都像谜似的？","我能解一切谜。蛇说。","他们都不讲话了。"],["小王子穿过沙漠，只遇见一朵花。一朵三瓣的花，一朵极普通平凡的花……","你好。王子说。","你好。花儿说。","人在哪儿呢？小王子彬彬有礼地问。","花儿有一天曾看见一队骆驼走过。","人？依我看，人是有的，大概六七个吧。好几年前我见过他们。但我不知道在哪儿能找到他们。风把他们吹散了。他们没有根，这就使他们吃尽了苦头。","别了。小王子说。","别了。花儿说。"],["小王子登上一座高山。以前他只见过自己的那三座火山，火山很矮，才到他的膝盖。死火山只能给他当凳子坐。","站在这座高山上，他想道，我一眼就能看见整个星球和所有的人了……","但他只看见悬崖峭壁。","您好。他试探着喊道。","您好……您好……您好……回声应道。","您是谁？小王子问。","您是谁……您是谁……您是谁……回声应道。","做我的朋友吧，我很孤单……他说。","我很孤单……我很孤单……我很孤单……回声又答应道。","多么古怪的星球！小王子想道。干干巴巴的，尖尖峭峭的，带点咸味儿的，这儿的人缺乏想像力，他们净重复别人讲过的话……而在我的那个星球里，我有一朵花，她总是抢先讲话……"],["小王子在沙漠、山峰、大雪中长途跋涉。他终于看见了一条路，条条路都通向有人烟的地方。","你们好。他说。","这是一座盛开着玫瑰花的花园。","你好。玫瑰花们说。","小王子看着她们。她们一个个全像他的那朵花儿。","你们是谁？小王子大吃一惊，问她们说。","我们是玫瑰花。玫瑰花们说。","啊！小王子说……","小王子伤心极了。他的花儿告诉他，大千世界中，她是惟一的玫瑰花。可是在这儿，仅仅一座花园里就有五千朵玫瑰花，全都长得一模一样！","他想：要是她看见这群玫瑰花，她又要恼羞成怒了……为了挽回面子，她又要装模作样地咳嗽，做出一副要死要活的样子，我也要呵护她，不然，她为了羞辱我，真会寻死的……","他又想道：我原以为我拥有一朵独一无二的花，我以为我很富足，原来她只是一朵极平常的花，她，以及我那三座只有我膝盖高的火山——其中一座也许永远都活不了，它们不能使我成为一位伟大的王子了……","于是，他趴倒在草地上伤心地哭泣。"],["就在这个时候，出现了一只狐狸。","你好。狐狸说。","你好。小王子彬彬有礼地回答，他转过身，但看不见有什么东西。","我在这里，那声音说，在苹果树下。","你是谁？小王子说，你真漂亮……","我是狐狸。狐狸说。","来跟我一起玩吧。小王子向他建议。我非常伤心……","我不能跟你一起玩，狐狸说，我不是驯养的动物。","哦，对不起。小王子说。","小王子想了想，又问：","什么叫做『驯养』？","你不是本地人。狐狸说。人有枪，人打猎，太可恶了！可人也养鸡！这是人惟一的好处。你也找鸡吗？","不！小王子说，我找朋友。什么叫做『驯养』？","这是一件被人遗忘干净的事了，狐狸说，它的意思就是『建立联系』……","建立联系？","当然，狐狸说，对我而言，你不过是一个小男孩，和千千万万的小男孩没有两样。而且我不需要你，你也不需要我。对你而言，我只是一只狐狸，和千千万万只狐狸没有两样。但如果你驯养了我，我们就互相需要了。你就是我世界上惟一的人了，我也是你世上惟一的狐狸了……","我有点明白了。小王子说。有一朵花儿……我认为她驯养了我……","这可能，狐狸说，地球上有各色各样，形形色色的东西……","啊！她不在地球上。小王子说。","狐狸露出大惊的神色。","在另一个星球上？","是的。","那颗星球上，有猎人吗？","没有。","那可有意思了！有鸡吗？","没有。","世上就没有十全十美的东西。狐狸叹了一口气。","狐狸又扯回原先的话题：","我的生活枯燥乏味，异常单调。我逮鸡，人逮我。鸡全是一个模样，人也是一个模样，我都腻了。但如果你驯养我，我的生活就会充满阳光。我能辨得出与众不同的脚步声。别人的脚步声吓得我赶紧钻回地洞。你的脚步声却像悦耳的音乐，召唤我走出洞穴。你瞧！你看那儿，那不是一片麦田吗？我不吃面包，我不需要小麦，麦田引不起我的想像力。说到这个，实在可悲！但你的头发是金灿灿的，它会叫我想起你的，我就会爱上风吹麦子的声音……狐狸没说下去，对小王子瞧了好久，又说：","请你……驯养我吧！","我很愿意，小王子回答说，但我的时间不多，我还要寻找朋友，还要了解许多新鲜的事物。","人只认识自己驯养的东西。狐狸说。人再没时间认识什么事物。他们到商店买现成的东西，但没有一家商店是出售朋友的，人也就没有朋友了。如果你想要朋友，你就驯养我吧！","我该做些什么呢？小王子说。","需要非常的耐心。狐狸回答说。首先你要离我稍远点，坐着，像这样，坐在草地上。我斜瞟着你，你什么也别对我说。语言是误会的源泉。可是每天你可以坐得稍近一点……","翌日，小王子又来了。","最好在同一个时间来，狐狸说，例如，如果你是下午四点钟来的，从三点钟开始，我就开始感觉到幸福的滋味了。越接近四点钟，我越觉得幸福。到了四点钟，我就心神恍惚，坐立不安了。我发现了幸福的价值，但是如果你不按时来，我就不知道几点钟该装扮我的心，仪式还是需要的。","什么叫做『仪式』？小王子问。","这也是一件被人遗忘干净了的事情。狐狸说。仪式就是使得某一日不同于其他日子，某一个小时不同于别的小时。比如说，猎人们有个仪式，每逢星期四，他们就与村里的姑娘们跳舞，星期四就成了再美妙不过的日子了！我也就可以到葡萄园里去闲逛了。如果猎人跳舞不挑日子，每一天都一样，我就没有假期了。","于是小王子驯养狐狸了。小王子要走的时候到了。","啊！狐狸说，……我想哭了。","这就是你的不对了，小王子说，我一点也不想伤害你，但你却要我驯养你……","不错。狐狸说。","但你却想哭！小王子说。","不错。狐狸说。","那你是一无所获了！","我有收获的，狐狸说，我得到了小麦的颜色。","然后他又说：","你去探望玫瑰花们吧，你就会明白，你的玫瑰花是世界上独一无二的花儿。然后你回来与我告别，我会送你一桩秘密作为礼物。","小王子探望玫瑰花们，并对她们说：","你们一点也不像我的玫瑰，你们还无足轻重，没有人驯养你们，你们也没有驯养任何人。你们的今天如同我的狐狸的昨天。昨天的他与千千万万的狐狸一样，但自从我让他做了我的朋友，他就是世上绝无仅有的狐狸了。","玫瑰花们听了心里怪不自在的。","你们长得很美，但你们的感情世界一片空白。小王子还对她们说。没有人为你们而死。不错，行人会认为我的玫瑰与你们没有两样，但只有她比你们重要，因为我给她浇了水，我给她盖上花罩，我给她竖起屏风，给她避风挡雨。我为她杀死了几条毛虫（除了两三条我没杀，要让它们变成蝴蝶），我倾听她的抱怨，或她的吹嘘，有时也看着她默默无语的样子，因为她是我的玫瑰。","他回到狐狸身边。","别了。他说……","别了，狐狸说，这就是我的秘密，它很简单：用心去看才能看清楚，用眼睛是看不见本质的东西的。","用眼睛是看不见本质的东西的。小王子重复念叨这句话，为了把它牢牢记住。","你为你的玫瑰失去的时间，使你的玫瑰变得重要了。","我为我的玫瑰失去的时间，使我的玫瑰……小王子说道，为了把它记住。","人忘记了这条真理，狐狸说，但你不该忘。你应该永远对你驯养的对象负责，你要对你的玫瑰负责……","我要对我的玫瑰负责……小王子反复念叨狐狸的教诲，为了牢牢记住它。"],["你好。小王子说。","你好。扳道工说。","你在这儿干什么？","我给旅客们分组。一千人为一批。扳道工说。载乘客的火车也由我调度，它们有时开往左方，有时开往右方。","一列灯火通明的火车风驰电掣般奔来，轰隆隆的响声震得调度室抖动摇晃。","他们行色匆匆。小王子说。他们寻找什么？","坐在火车头上的人也不知道他们要寻找什么。扳道工说。","第二列灯火通明的火车轰隆隆地，从相反的方向奔驰而来。","他们已经回来了？小王子问……","这列车坐的不是刚才那些人。扳道工说。这是对开的火车。","他们对他们的居住地不满意？","人总是这山望着那山高的。扳道工说。","第三列灯火通明的火车也轰隆隆地响起来了。","他们在追赶第一批旅客吗？小王子问。","他们从不追赶人，扳道工说，他们在车厢里睡大觉或打哈欠，只有孩子们才把鼻子贴在玻璃窗上看外面的世界。","只有孩子才知道他们要寻觅什么。小王子说。他们花不少时间与布娃娃玩，布娃娃变得很重要，如果有人抢走他们的布娃娃，他们就哭鼻子……","他们是有运气的人……"],["你好。小王子说。","你好。商人说。","这位商人贩卖解渴的药丸。一个星期吃一颗这样的药丸，就不再需要喝水了。","为什么你卖这种药？小王子问。","为了节省更多的时间，商人说，专家们计算过，每个星期能节省五十三分钟。","节省的这五十三分钟，有什么用途？","人可以干自己愿意干的事……","小王子想：要是我节省下这五十三分钟，我就要悠闲自在地朝一泓泉水走去……"],["我的飞机在沙漠出故障的第八天，我听到了商人的故事，此时我储存的水已喝完了，一滴不剩。","我对小王子说：","啊！你的这些回忆挺美好的，但我还没修好我的飞机，我的水也喝完了，如果我能悠闲自在地向一泓泉水走过去，我也会很幸福快活的！","我的朋友狐狸告诉我……","我的小人儿，别再说狐狸的事了！","为什么？","因为我快渴死了……","他听不懂我说的理由。他说道：","有个朋友真好，哪怕命在旦夕。我很满意狐狸做了我的朋友……","我想：他不知道危险的可怕，他从未尝过饥渴的滋味。他只要一点儿阳光就满足了……","他看着我，似乎猜中了我的念头：","我也渴……我们去找一口井吧……","我做了个无法可想的手势。在一望无际的沙漠中寻一口井，这不是太荒唐了吗？但我们还是出发去寻找了。","我们默默地走了几个小时。夜幕降临，天上现出星星。由于干渴，我在发烧，看见星星，还以为自己在梦中呢。小王子说的话也似乎在我的脑海中跳跃。","你也口渴了吗？我问他。","他不回答我的问题，只简单地对我说：","水对心也有好处……","我听不懂他的话，但我不做声……我知道不应该问他。","他走乏了，坐了下来。我靠着他坐下。沉默了一会，他又说：","星星美丽，因为里面有一朵看不见的花。","我应了一句：当然。然后我不做声，看着月光下的起伏的沙丘。","沙漠真美。他又说。","他说得不错。我素来喜爱沙漠。我们坐在沙丘上。我们无所见，我们无所闻。然而，有什么东西在静静地发光……","沙漠美丽，因为沙漠的某处隐藏着一口井。小王子说。","我吃了一惊，因为我突然明白，沙漠中那神秘的闪闪发亮的东西是什么了。我还是一个小男孩的时候，住在一幢古老大屋里。传说里面埋藏着一件宝物。当然，没有一个人能找得到它。也许甚至没人去找它。但它像给这幢屋子施了魔法，让它凭空增添了吸引力。房里埋藏着秘密……","你说得对，我对小王子说，房子也好，星星、沙漠也好，美化它们的东西是肉眼看不见的！","我很欣慰，他说，你同意狐狸的看法。","小王子入睡了。我把他抱在怀里，继续走我们的路。我受了感动。我觉得我抱着一件脆弱的宝物。我甚至觉得地球上没有比他更脆弱的东西了。借着银色的月光，我细细看他苍白的前额、闭着的双目、随风抖动的绺绺秀发。我心想：我看见的只是一具躯壳，最重要的东西是看不见的……","他半张的嘴唇上泛出浅浅的微笑。我又想：这位睡着了的小王子打动了我，而打动了我的是他对花的忠贞。玫瑰花的倩影如同灯焰，在他心里闪闪发亮，即使是在梦乡……","我把他想像得更脆弱了。灯是需要我们小心保护的，一股风就会把它吹灭……我就这样走着，曙光初露时我看见了那口井。"],["人挤在快车的车厢里，小王子说，却不知道他们要寻找什么。他们焦躁不安，团团乱转……","他又说：","这又何苦呢……","我们找到的井不像撒哈拉沙漠的井。撒哈拉沙漠的井是在沙里挖个洞，而我们找到的这口井与村子里的井一样，可是这儿没有一个村子。我以为我正在做梦。","这就奇了，我对小王子说，这井一切齐备：辘轳，水桶，绳子……","他笑了，抓住绳子，转动辘轳。辘轳吱吱呀呀地叫唤，活像一只老风信鸡在风长睡时的叫唤。你听，小王子说，我们唤醒了这口井。它在唱歌呢……","我不忍心看他劳力费神。","让我来干吧，我对他说，你干这活太重了。","我轻轻把水桶提到井口，垂直放进井内。倾听着辘轳的歌声，还看见在荡漾的井水中摇动的太阳。","我渴望的就是这样的水，小王子说，让我喝上几口……我明白他要寻找什么了。","我把桶举到他的唇边。他闭着双目喝水。水甜得有如过节。这水不仅是饮料，它还是别的东西。它是经过星光下的跋涉，在辘轳的歌声中和在我双臂的努力下诞生的。它像礼物一样愉悦心灵。我还是小男孩的时候，圣诞树上挂的灯、子夜弥撒的音乐、甜蜜的微笑，是我收到的圣诞礼物的光芒。","你们这儿的人在一个园里种植五千株玫瑰……但他们却找不到他们寻觅的东西……","他们没找到。我说……","然而他们寻找的东西可以在一朵玫瑰或一点点水里找到的……","不错。我回答说。","小王子又说：","然而肉眼是看不见的，要用心灵去寻找。","我喝了水，呼吸畅通了。天亮时分，沙子颜色如蜜。我也喜欢蜜般的颜色。但为什么我的心里总有点不快乐呢？……","你可要履行诺言啊。小王子轻声对我说，他又靠近我坐着。","什么诺言？","你知道的呀……给我的绵羊画一个口罩，我要对我的花儿负责呀！","我从口袋里掏出画稿。小王子看后，笑着对我说：","你画的猴面包树有点像卷心菜……","呀！","我还为我画的猴面包树自鸣得意呢！","你画的狐狸……它的耳朵……有点像角……太长了！","他还在笑。","你不公平，小人儿。我并不会画画，只会画打开了肚子的蟒蛇和没打开肚子的蟒蛇。","啊！很不错的嘛，孩子们看得懂的。他说。","我用铅笔画了一个口罩，把它交给他的时候，我的心揪得紧紧的：","你已有了我不知道的计划吧……","但他避而不答。他只对我说：","你知道，我落到地球上……明天已是一周年了……","然后，沉默片刻，他又说：","当时我就落在附近……","他的脸红了。","不知何故，我有说不出来的惆怅悲哀。我提出了一个问题：","这么说，一个星期之前，认识你的那天早上，你不是偶尔一人来到这远离人烟的沙漠的？你要回到你的降落点去？","小王子的脸又红了。","我犹豫着又问：","也许是为了纪念降落周年？……","小王子的脸再次红了。他从不回答我提的问题。但一个人脸红，就意味着默认，意味着做了「是的」的回答，对吧？","啊！我对他说，我怕……","他却对我说：","现在你该干活了。你该到你的机器旁忙活儿了。我在这儿等你，明天晚上再来……","但我不放心。我想起了狐狸的事，让别人驯养，难免要掉掉眼泪……"],["井旁有一堵断墙残壁。第二天晚上，我干完活回来，远远看见我的小王子坐在残壁上，双腿悬空。我听见他说：","你不记得了吗？不完全在这里！","无疑有另一个声音回了他的话，因为他反驳说：","没错！没错！就是这一天，但不是这个地方……","我向断墙残壁走过去，我看不见也听不见有什么人在那儿。然而小王子又反驳了：","……当然，你会看到我留在沙地上的足迹，看到它是从哪儿开始的。你在那儿等我就行了。今夜我会在那儿等你。","我离开墙才二十米，还是一无所见。","小王子沉默片刻后又说：","你有毒液吗？你能肯定不让我经受很久的痛苦？","我停住了脚步，心被揪成一团。我仍然听不懂他的话。","现在你走吧。他说。我要跳下去了！","我的眼光落到墙根，我吓了一跳！一条黄蛇正仰头朝向小王子。这种黄蛇最毒了，三十秒钟内就能要你的命。我一面伸手到口袋里掏手枪，一面飞步冲过去。蛇听到我的脚步声，轻轻地溜进沙里，如颓然跌落的水柱，不慌不忙地钻进石缝里，发出轻微的金属的声音。","我及时赶到墙边，用双臂接住我的小人儿。这位王子的脸雪一般的苍白。","怎么回事，你和蛇说话了？","我解下他从不离身的金围巾，用水湿湿他的太阳穴，给他喝水。现在我不敢再向他提什么问题了。他神情凝重地看着我，双臂搂住我的脖子。我感觉到他的心的狂跳，如同中弹濒死的小鸟。","他对我说：你找到了机器的毛病，我很高兴。你可以回家了……","你怎么知道的？","我来找他，正是要告诉他：出乎我的意料，我竟修好了我的飞机。","他不回答我的问题，却又说：","今天我也要回家了……","然后，他神色凄伤，黯然说道：","我的家要远多了……也难回去得多……","我感觉到发生了非比寻常的事情。我把他搂进怀里，如同他是个小孩子。然而我觉得他直往深渊里坠下去，我一点也抓不住他……","他目光严肃，落到远方。","我有你的绵羊，我有给绵羊住的箱子。我有口罩……","他凄凉地笑笑。","我等了许久。我感觉到他的身体逐渐恢复了温暖。","小人儿，你害怕了……","当然，他害怕！他温和地笑笑：","今晚我会更害怕！","我又一次体会到无可奈何的感觉。我全身冰冷。我知道，听不见他的笑声，我会忍受不了的。他的笑声对我来说，如同沙漠里的一口井。","小人儿，我还想听到你的笑声……","但他对我说：","今夜是我到这儿的一周年。我的星星正好在我去年降落处的正上方……","小人儿，蛇呀、约会呀、星星的故事，莫非都是一场噩梦？……","但他不回答我的问题。他对我说：","最重要的东西，是肉眼看不到的……","当然……","花儿也是这样，如果你爱上了一朵长在一颗星星里的花儿，夜里看看星空，你会觉得甜蜜。所有的星星都像开了花。","不错……","水也是这样。你给我喝的水，有了辘轳和绳子，水就如同音乐……你记得……它是甘甜的。","不错。","夜里你仰望星空吧，我的那颗星太渺小，没法子告诉你它在哪儿。这样更好……你就把我的星看做是万千星星中的一颗吧，这样你就会爱看所有的星星……它们全都成了你的朋友。然后我会赠给你一份礼物……","他还在笑。","啊，小人儿，小人儿，我喜欢听你的笑声！","这正是我给你的礼物……这就和水一样……","你想说什么？","不同的人有不同的星星。星星是旅行的人的向导，星星只是其他人的小灯，星星是学者研究的问题，星星是我说过的那个商人的金子。但所有的星星都沉默不语。你的那颗星星是别人没有的……","你想说什么？","既然我住在天上一颗星星里，既然我在其中一颗星星里笑，这就如同所有的星星都在冲你笑，你就拥有无数会笑的星星了！","他还在笑。","你得到了安慰之后（人常常自我安慰），你会为认识我而高兴。你会成为我永远的朋友，你会想与我一起笑。有时候，当你想笑而打开窗户的时候……你的朋友看见你仰望星空独自发笑，他们一定会惊讶，你就对他们说：『是的，我看见星星就要笑！』他们会以为你神经出了毛病。看来是我捉弄了你了……","他还在笑。","这样一来，我给你的不是星星，而是一大批会笑的小铃铛……","他还在笑。然后他收敛了笑容：","今晚……你知道……你不要来了。","我不会离开你的。","我会很难看的……会像个死人，别来看我的死了的样子，没有必要。","我不会离开你的。","他露出忧心忡忡的神色。","我跟你讲这些话……也是因为蛇，不该让它伤害你……蛇是凶残的动物，高兴时也咬人……","我不离开你。","他想起什么，随即放宽了心：","真的，蛇咬的第二口不再有毒液……","那天夜里我没看见他离开我。他是悄悄走的。我终于赶上他。他大步走着，步子迈得又大又坚决。他见了我，只说了一句：呀，你在这儿……","他牵住我的手。然后他苦恼地说：","你不该来的。你会难过的。我会像个死人，其实我不是真死……","我不做声。","你知道吧，路途太远，我拖不动这副皮囊，它太沉了。","我不做声。","也不过如同蜕了旧壳，一副旧壳不值得悲哀……","我还是不做声。","他有点泄气了，但还在竭力安慰我：","你知道，想起你，我的心会温暖的。以后我也会仰望星空，所有的星星会成了带有生锈辘轳的井，所有的星星给我倒水喝……","我还是不做声。","那会是多有趣的事情！你会有五亿个小铃铛，我有五亿口井……","他也不做声了，因为他哭了……","就在这儿吧。你让我独自走一步。","他坐了下来，因为他害怕了。","他还说：","你知道……我的花……我要对她负责！她弱不禁风！她聪明纯洁！她一无所有！只凭四根刺保护自己，抵御世上的侵害……","我瘫坐在地上。因为我站不住了。他说：","我的话……讲完了……","他还犹豫了片刻，然后站起来，向前走了一步。而我不能动弹。","他的脚踝边闪了一道黄光。他凝然不动。他没有叫喊。好一会儿之后，他像大树倒地似的倒下。因为这儿是沙地，他倒下去的时候，一点声音都没有。"],["当然，这已是六年前的事了……我从来没对别人讲过这个故事。我的同事们看见我活着回来，都替我庆幸。我神色哀伤，但我告诉他们：『这是因为累……』","现在，我的离愁别绪已经减轻了一些。也就是说……还没有完全消除。我很明白，他回他的星球去了，因为天亮时我没找到他的尸体。他的躯体并不沉重……我喜欢在夜里倾听星星的呢喃，它们就像五亿个小铃铛……","可是出了非同寻常的事了：我给小王子画了口罩，但我忘了给口罩配上皮带！他别想把口罩套上羊嘴了。我于是想：『他的星球发生了什么事呢？绵羊很可能吃了花儿……』","有时我又想：『一定不会的！小王子每天夜里把他的花儿罩在玻璃罩里，他一定会看管好他的绵羊……』于是我放心了，天上所有的星星都温和地微笑。","有时我想：『人总免不了有疏忽大意的时候，这就够糟的了！要是有天晚上他忘了给花罩上玻璃罩，或者绵羊在夜里悄悄地溜出来呢……』于是，铃铛全变成了泪珠……","这件事始终是无法解开的谜。在宇宙中不知哪个角落，我们不认识的绵羊有没有吃掉一朵玫瑰花，你们——喜爱小王子的人，和我一样，看法绝不相同……","请你们仰望星空吧。请你们问问自己：绵羊有没有吃掉花儿？你们就会看到，天上所有的星星发生了变化……","没有一个大人明白，弄清楚这个问题有多重要！","我认为这幅图画是世界上最凄美的图画了。它与前一幅的画面一样。我再一次画它，是为了让你们好好地看看它。小王子就是在这里出现在地球上的，然后又是从这里离开了地球。请你们仔细看清楚这幅画，有朝一日你们到沙漠，到非洲旅行，才能认出这地方来。如果你经过这个地方，我恳求你们，别匆忙离去，请在那颗星下稍待片刻！如果有个孩子向你走过来；如果他笑吟吟的；如果他长着一头金发；如果你向他提问题，他不回答；你们就会猜到他是谁了。果真如此，请你们行行好！别眼睁睁看着我为思念他而悲伤，别坐视不理，别无动于衷：请你们快点写信告诉我，他回来了……"]],ae=[{name:"小王子",role:"主角 · 来自B-612小行星",description:"来自B-612小行星的神秘男孩，纯真善良，通过与各种人物的对话展现对成人世界的批判。",quotes:["使沙漠如此美丽的，是它在某处藏着一眼泉水。","真正重要的东西，用眼睛是看不见的，要用心。","你为你的玫瑰失去的时间，使你的玫瑰变得重要了。"],relationships:[{target:"玫瑰",type:"love",strength:10,description:"纯真的爱情与责任"},{target:"狐狸",type:"friendship",strength:9,description:"深刻的友谊与智慧传承"},{target:"飞行员",type:"friendship",strength:8,description:"忘年之交，心灵相通"},{target:"点灯人",type:"respect",strength:6,description:"欣赏他的尽职尽责"}]},{name:"飞行员",role:"叙述者",description:"故事的叙述者，因飞机故障迫降在撒哈拉沙漠，与小王子相遇并成为朋友。",quotes:["果真如此，请你们行行好！","别眼睁睁看着我为思念他而悲伤，别坐视不理，别无动于衷：","请你们快点写信告诉我，他回来了……"],relationships:[{target:"小王子",type:"friendship",strength:8,description:"忘年之交，心灵相通"}]},{name:"狐狸",role:"智者",description:"教会小王子关于驯养、责任和爱的智慧的生物。",quotes:["如果你驯养了我，我们就会彼此需要。","你要永远为你驯养的东西负责。","用心去看才能看清楚，用眼睛是看不见本质的东西的。"],relationships:[{target:"小王子",type:"friendship",strength:9,description:"深刻的友谊与智慧传承"}]},{name:"玫瑰",role:"小王子的爱",description:"小王子星球上唯一的玫瑰，骄傲而脆弱，象征纯真的爱情。",quotes:["我以前真傻，请你原谅。好好地享受生活吧，愿你幸福。","我并非如此的弱不禁风……我有爪子呀。"],relationships:[{target:"小王子",type:"love",strength:10,description:"纯真的爱情与责任"}]},{name:"国王",role:"第一个星球的居民",description:"统治一切的国王，但实际上没有任何臣民，象征权力的空虚。",relationships:[{target:"小王子",type:"encounter",strength:3,description:"短暂的相遇"}]},{name:"爱慕虚荣的人",role:"第二个星球的居民",description:"渴望被崇拜的人，只听得见赞扬声，象征虚荣。",relationships:[{target:"小王子",type:"encounter",strength:3,description:"短暂的相遇"}]},{name:"酒鬼",role:"第三个星球的居民",description:"为喝酒感到羞愧却继续喝酒的人，象征逃避现实。",relationships:[{target:"小王子",type:"encounter",strength:3,description:"短暂的相遇"}]},{name:"商人",role:"第四个星球的居民",description:"忙着数星星并声称拥有它们的人，象征对物质的执着。",relationships:[{target:"小王子",type:"encounter",strength:3,description:"短暂的相遇"}]},{name:"点灯人",role:"第五个星球的居民",description:"忠于职守的点灯人，象征责任和奉献。",relationships:[{target:"小王子",type:"respect",strength:6,description:"互相欣赏的短暂相遇"}]},{name:"地理学家",role:"第六个星球的居民",description:"只记录永恒事物的学者，象征脱离实际的知识。",relationships:[{target:"小王子",type:"encounter",strength:3,description:"短暂的相遇"}]}],X={love:{name:"爱情",color:"#ef4444",emoji:"💕",description:"深厚的情感连接"},friendship:{name:"友谊",color:"#3b82f6",emoji:"🤝",description:"相互理解与支持"},respect:{name:"尊重",color:"#10b981",emoji:"🙏",description:"相互欣赏与敬意"},encounter:{name:"相遇",color:"#6b7280",emoji:"👋",description:"短暂的会面与交流"}},ke={serif:'"Noto Serif SC", "Source Han Serif SC", "Source Han Serif", "SimSun", serif',sans:'Inter, "Noto Sans SC", "Source Han Sans SC", "Source Han Sans", "Microsoft YaHei", sans-serif',mono:'"JetBrains Mono", "Cascadia Code", "Fira Code", "Consolas", monospace',handwriting:'"Caveat", cursive, "楷体", "华文行楷"'},ge=r=>ke[r]||ke.serif,Te=()=>{typeof window<"u"&&console.log("字体预加载准备就绪")};function be(){const r=$(parseInt(localStorage.getItem("currentChapter")||"0")),g=$(parseInt(localStorage.getItem("currentPosition")||"0")),s=$(JSON.parse(localStorage.getItem("readingProgress")||"{}")),i=c=>{r.value=c,g.value=0},u=c=>{g.value=c},a=(c,b,t)=>{const p=t>0?b/t*100:0;s.value[c]=Math.min(p,100)};return ne([r,g,s],()=>{localStorage.setItem("currentChapter",r.value.toString()),localStorage.setItem("currentPosition",g.value.toString()),localStorage.setItem("readingProgress",JSON.stringify(s.value))},{deep:!0}),{currentChapter:r,currentPosition:g,readingProgress:s,navigateToChapter:i,setReadingPosition:u,updateProgress:a}}function _e(){const r=$(JSON.parse(localStorage.getItem("little_prince_bookmarks")||"[]")),g=(c,b=null)=>{const{currentChapter:t,currentPosition:p}=be(),v={id:Date.now()+Math.random(),chapterIndex:c||t.value,position:b||p.value,title:`第${c||t.value+1}章书签`,timestamp:new Date().toLocaleString("zh-CN"),createdAt:new Date().toISOString()};return r.value.find(z=>z.chapterIndex===v.chapterIndex&&z.position===v.position)?{success:!1,message:"该书签已存在"}:(r.value.push(v),d(),{success:!0,bookmark:v})},s=c=>{const b=r.value.findIndex(t=>t.id===c);return b!==-1?(r.value.splice(b,1),d(),!0):!1},i=()=>{r.value=[],d()},u=c=>{const{navigateToChapter:b,setReadingPosition:t}=be();b(c.chapterIndex),setTimeout(()=>{t(c.position);const p=document.querySelector(".reading-content");p&&(p.scrollTop=c.position)},100)},a=q(()=>{const{currentChapter:c,currentPosition:b}=be();return r.value.some(t=>t.chapterIndex===c.value&&Math.abs(t.position-b.value)<50)}),d=()=>{localStorage.setItem("little_prince_bookmarks",JSON.stringify(r.value))};return ne(r,d,{deep:!0}),{bookmarks:r,addBookmark:g,removeBookmark:s,clearBookmarks:i,jumpToBookmark:u,hasBookmarkAtCurrentPosition:a}}const je=()=>{try{const r=localStorage.getItem("little_prince_reading_history");if(!r)return{};const g=JSON.parse(r);if(Array.isArray(g)){console.log("🔄 检测到旧版数组格式数据，正在转换为对象格式...");const s={};return g.forEach((i,u)=>{i&&typeof i=="object"&&(s[`chapter_${u}`]=i)}),localStorage.setItem("little_prince_reading_history",JSON.stringify(s)),s}return g&&typeof g=="object"?g:{}}catch(r){return console.error("❌ 初始化阅读历史数据失败:",r),{}}},Y=$(je()),le=$([]),we=()=>{le.value.forEach(r=>r())};function $e(){const r=(t,p,v=0)=>{try{const I=`chapter_${t}`,z=new Date().toISOString(),H=Math.min(Math.max(p,0),100);Y.value[I]||(Y.value[I]={firstRead:z,lastRead:z,progress:0,totalDuration:0,readCount:0});const A=Y.value[I];return H>A.progress?(A.lastRead=z,A.progress=H,A.totalDuration+=v,A.readCount+=1,b(),we(),console.log(`✅ 记录进度: 第${t+1}章 ${H}%`),!0):!1}catch(I){return console.error("❌ 记录阅读进度失败:",I),!1}},g=t=>{try{const p=`chapter_${t}`,v=Y.value[p]?.progress||0;return console.log(`📖 获取章节进度: 第${t+1}章 ${v}%`),v}catch(p){return console.error("❌ 获取章节进度失败:",p),0}},s=q(()=>{try{const t=Object.keys(Y.value);if(t.length===0)return console.log("📊 总进度: 0% (无阅读记录)"),0;const p=t.reduce((I,z)=>I+(Y.value[z].progress||0),0),v=Math.round(p/t.length);return console.log(`📊 总进度计算: ${t.length}个章节, 总进度${p}, 平均${v}%`),v}catch(t){return console.error("❌ 计算总进度失败:",t),0}}),i=q(()=>{try{const t=Object.keys(Y.value),p=t.reduce((z,H)=>z+(Y.value[H].totalDuration||0),0),v=t.reduce((z,H)=>z+(Y.value[H].readCount||0),0),I={totalChaptersRead:t.length,totalReadingTime:p,averageReadCount:v/Math.max(t.length,1)};return console.log("📈 阅读统计:",I),I}catch(t){return console.error("❌ 获取阅读统计失败:",t),{totalChaptersRead:0,totalReadingTime:0,averageReadCount:0}}}),u=q(()=>{try{const t=Object.entries(Y.value).sort(([,p],[,v])=>new Date(v.lastRead)-new Date(p.lastRead)).slice(0,5).map(([p,v])=>({chapterIndex:parseInt(p.replace("chapter_","")),lastRead:v.lastRead,progress:v.progress}));return console.log("🕒 最近阅读:",t),t}catch(t){return console.error("❌ 获取最近阅读失败:",t),[]}}),a=q(()=>{try{const t=Object.keys(Y.value).length;return console.log(`📚 已读章节数量: ${t}`),t}catch(t){return console.error("❌ 获取已读章节数量失败:",t),0}}),d=t=>(le.value.push(t),console.log(`👂 添加更新监听器，当前监听器数量: ${le.value.length}`),()=>{const p=le.value.indexOf(t);p>-1&&le.value.splice(p,1)}),c=()=>{try{return Y.value={},b(),we(),console.log("🗑️ 已清除阅读历史"),!0}catch(t){return console.error("❌ 清除阅读历史失败:",t),!1}},b=()=>{try{localStorage.setItem("little_prince_reading_history",JSON.stringify(Y.value)),console.log("💾 保存阅读历史到本地存储")}catch(t){console.error("❌ 保存阅读历史失败:",t)}};return{readingHistory:Y,recordReadingProgress:r,getChapterProgress:g,getTotalProgress:s,getReadingStats:i,getRecentReading:u,getReadChaptersCount:a,onUpdate:d,clearHistory:c}}const Re={class:"flex justify-between items-center mb-6 lg:hidden"},Be={class:"mb-6"},ze={class:"mt-4 space-y-2"},Me={class:"flex justify-between items-center mb-2"},Ne={key:0},Pe=["onClick","title"],De={class:"flex items-center gap-2"},Ee={class:"min-w-0 flex-1"},Fe={class:"text-sm font-medium truncate"},He={class:"text-xs text-gray-500 dark:text-gray-400 flex justify-between"},Ae=["onClick"],Oe={key:1,class:"text-xs text-gray-400 text-center py-2"},qe={key:0,class:"mb-6"},Le={class:"flex justify-between items-center mb-3"},Ve={class:"text-xs text-gray-500"},Ke={class:"space-y-2"},Ue=["onClick"],Je={class:"flex justify-between items-center"},Qe={class:"font-medium text-gray-700 dark:text-gray-300 truncate flex-1 text-left"},We={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-2"},Xe={class:"space-y-3 mb-6"},Ye={class:"flex justify-between items-center mb-3"},Ge={key:0,class:"text-xs text-gray-500"},Ze={class:"space-y-2 max-h-60 lg:max-h-80 overflow-y-auto"},et=["onClick"],tt={class:"flex items-center gap-3"},rt={class:"font-medium flex-1 text-left"},ot={key:0,class:"text-center py-4"},st={class:"border-t border-star-blue-200 dark:border-star-blue-700 pt-6 space-y-2"},at=["onClick"],lt={class:"text-lg transition-transform duration-300 group-hover:scale-110"},nt={class:"font-medium"},it={class:"mt-6 pt-6 border-t border-star-blue-200 dark:border-star-blue-700 text-xs text-gray-500 dark:text-gray-400 space-y-2"},dt={class:"flex items-center justify-between"},ct={class:"font-semibold text-star-blue-600 dark:text-star-blue-400"},ut={class:"flex items-center justify-between"},gt={class:"font-semibold text-desert-yellow-600 dark:text-desert-yellow-400"},bt={class:"flex items-center justify-between"},xt={class:"font-semibold text-rose-red-600 dark:text-rose-red-400"},mt={class:"flex items-center justify-between"},pt={class:"font-semibold text-green-600 dark:text-green-400"},yt={class:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},ht={class:"grid grid-cols-2 gap-3 text-center"},vt={class:"text-lg font-bold text-desert-yellow-600"},ft={class:"text-lg font-bold text-star-blue-600"},kt={__name:"Sidebar",props:{chapters:{type:Array,required:!0,default:()=>[]},chapterIndex:{type:Number,required:!0},currentView:{type:String,required:!0},showMobileMenu:{type:Boolean,required:!0},views:{type:Array,required:!0}},emits:["open-chapter","switch-view","close-mobile-menu","jump-to-bookmark"],setup(r,{emit:g}){const s=r,i=g,{bookmarks:u,removeBookmark:a,clearBookmarks:d}=_e(),{currentChapter:c,currentPosition:b}=be(),{getChapterProgress:t,getTotalProgress:p,getReadingStats:v,getRecentReading:I,getReadChaptersCount:z,onUpdate:H,clearHistory:A}=$e(),K=$(""),W=$(0);let U,J;const y=q(()=>v.value),T=q(()=>p.value),h=q(()=>I.value),w=q(()=>z.value),O=q(()=>[...u.value].sort((k,m)=>new Date(m.createdAt||m.timestamp)-new Date(k.createdAt||k.timestamp))),j=q(()=>{if(!s.chapters||!Array.isArray(s.chapters))return[];if(!K.value.trim())return Array.from({length:s.chapters.length},(m,f)=>f);const k=K.value.toLowerCase().trim();return Array.from({length:s.chapters.length},(m,f)=>f).filter(m=>D(m).toLowerCase().includes(k))}),P=()=>{const k=document.querySelector(".overflow-y-auto");k&&(k.scrollTop=0)},B=()=>{K.value=""},F=k=>{i("open-chapter",k),B()},Q=q(()=>{const k=Math.floor(W.value/60),m=W.value%60;return k===0?`${m}分钟`:`${k}小时${m>0?` ${m}分钟`:""}`}),ee=k=>k.chapterIndex===c.value&&Math.abs(k.position-b.value)<50,se=k=>{i("jump-to-bookmark",k),window.innerWidth<1024&&i("close-mobile-menu")},S=()=>{confirm("确定要清空所有书签吗？此操作不可撤销。")&&d()},_=()=>{confirm("确定要清除所有阅读记录吗？此操作不可撤销。")&&A()},x=k=>{if(!k)return"";try{const m=new Date(k),C=(new Date-m)/(1e3*60*60);return C<24?m.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):C<48?"昨天":m.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}catch(m){return console.error("格式化书签时间出错:",m),""}},D=k=>{const m=["导读","献词","第一章","第二章","第三章","第四章","第五章","第六章","第七章","第八章","第九章","第十章","第十一章","第十二章","第十三章","第十四章","第十五章","第十六章","第十七章","第十八章","第十九章","第二十章","第二十一章","第二十二章","第二十三章","第二十四章","第二十五章","第二十六章","第二十七章"];return k>=0&&k<m.length?m[k]:`第${k+1}章`};return ce(()=>{J=H(()=>{console.log("阅读历史已更新，刷新侧边栏数据")}),U=setInterval(()=>{W.value++},6e4)}),pe(()=>{U&&clearInterval(U),J&&J()}),(k,m)=>(l(),n("aside",{class:M(["w-full lg:w-64 border-r border-star-blue-200 dark:border-star-blue-700 p-6 transition-transform duration-300 fixed lg:static inset-0 z-40 bg-white/90 dark:bg-gray-900/90 lg:bg-transparent lg:dark:bg-transparent backdrop-blur-sm transform lg:transform-none overflow-y-auto",{"translate-x-0":r.showMobileMenu,"-translate-x-full lg:translate-x-0":!r.showMobileMenu}])},[e("div",Re,[m[2]||(m[2]=e("h2",{class:"text-xl font-bold text-star-blue-600 dark:text-star-blue-400"},"导航菜单",-1)),e("button",{onClick:m[0]||(m[0]=f=>k.$emit("close-mobile-menu")),class:"p-2 rounded-lg hover:bg-desert-yellow-100 dark:hover:bg-star-blue-700 transition text-rose-red-500 star-twinkle"}," ✕ ")]),m[15]||(m[15]=e("h2",{class:"text-xl font-bold mb-6 hidden lg:block text-star-blue-600 dark:text-star-blue-400"}," 章节目录 ",-1)),e("div",Be,[te(e("input",{"onUpdate:modelValue":m[1]||(m[1]=f=>K.value=f),type:"text",placeholder:"搜索章节标题...",class:"w-full p-2 rounded-lg border border-star-blue-200 dark:border-star-blue-600 bg-white/70 dark:bg-gray-800/70 focus:outline-none focus:ring-2 focus:ring-desert-yellow-400",onInput:P},null,544),[[ue,K.value]]),e("div",ze,[e("div",Me,[m[3]||(m[3]=e("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400"},"书签",-1)),R(u).length>0?(l(),n("button",{key:0,onClick:S,class:"text-xs text-rose-red-500 hover:text-rose-red-700 transition",title:"清空所有书签"}," 清空 ")):E("",!0)]),R(u).length?(l(),n("div",Ne,[(l(!0),n(L,null,V(O.value,f=>(l(),n("div",{key:f.id,class:M(["w-full text-left text-sm px-3 py-2 rounded-lg hover:bg-desert-yellow-50 dark:hover:bg-star-blue-800/30 flex justify-between items-center group border transition-colors duration-200",{"border-desert-yellow-300 bg-desert-yellow-50/50 dark:bg-desert-yellow-900/20":ee(f),"border-transparent hover:border-desert-yellow-200":!ee(f)}])},[e("button",{class:"flex-1 text-left truncate",onClick:C=>se(f),title:`跳转到: ${D(f.chapterIndex)}`},[e("div",De,[m[4]||(m[4]=e("span",{class:"text-yellow-500 text-xs"},"⭐",-1)),e("div",Ee,[e("div",Fe,o(D(f.chapterIndex)),1),e("div",He,[e("span",null,"第"+o(f.chapterIndex+1)+"章",1),e("span",null,o(x(f.timestamp)),1)])])])],8,Pe),e("span",{onClick:ye(C=>R(a)(f.id),["stop"]),class:"text-rose-red-400 hover:text-rose-red-600 cursor-pointer ml-2 transition opacity-0 group-hover:opacity-100 flex-shrink-0",title:"删除书签"}," ✕ ",8,Ae)],2))),128))])):(l(),n("p",Oe,"暂无书签"))])]),h.value.length>0?(l(),n("div",qe,[e("div",Le,[m[5]||(m[5]=e("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400"},"最近阅读",-1)),e("span",Ve,o(h.value.length)+"/5",1)]),e("div",Ke,[(l(!0),n(L,null,V(h.value,f=>(l(),n("button",{key:f.chapterIndex,onClick:C=>F(f.chapterIndex),class:M(["w-full text-left p-3 text-sm rounded-lg border border-gray-100 dark:border-gray-700 hover:border-desert-yellow-300 hover:bg-desert-yellow-50 dark:hover:bg-star-blue-800/30 transition-all duration-200 group",{"bg-desert-yellow-50/50 dark:bg-desert-yellow-900/20 border-desert-yellow-300":f.chapterIndex===r.chapterIndex}])},[e("div",Je,[e("span",Qe,o(D(f.chapterIndex)),1),e("span",{class:M(["text-xs font-medium px-2 py-1 rounded-full ml-2 transition-colors",{"bg-desert-yellow-100 text-desert-yellow-700 dark:bg-desert-yellow-900 dark:text-desert-yellow-300":f.progress<100,"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":f.progress===100}])},o(f.progress)+"% ",3)]),e("div",We,[e("div",{class:M(["h-1.5 rounded-full transition-all duration-300",{"bg-desert-yellow-400":f.progress<100,"bg-green-400":f.progress===100}]),style:G({width:f.progress+"%"})},null,6)])],10,Ue))),128))])])):E("",!0),e("div",Xe,[e("div",Ye,[m[6]||(m[6]=e("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400"},"章节列表",-1)),K.value?(l(),n("span",Ge,o(j.value.length)+"/"+o(r.chapters.length)+" 个结果 ",1)):E("",!0)]),e("ul",Ze,[(l(!0),n(L,null,V(j.value,f=>(l(),n("li",{key:f},[e("button",{class:M(["w-full text-left px-4 py-3 rounded-xl transition-all duration-300 text-sm lg:text-base border border-transparent hover:border-desert-yellow-300 hover:shadow-md group active:scale-95 bg-white/50 dark:bg-gray-800/50 hover:bg-desert-yellow-50 dark:hover:bg-star-blue-800/30",{"font-semibold text-desert-yellow-600 dark:text-desert-yellow-400":f===r.chapterIndex&&r.currentView==="reader"}]),onClick:C=>F(f)},[e("div",tt,[e("div",{class:M(["w-2 h-2 rounded-full bg-desert-yellow-400 group-hover:bg-rose-red-400 transition-colors duration-300",{"bg-desert-yellow-600":f===r.chapterIndex&&r.currentView==="reader"}])},null,2),e("span",rt,o(D(f)),1),R(t)(f)>0?(l(),n("span",{key:0,class:M(["text-xs px-2 py-1 rounded-full transition-colors",{"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400":R(t)(f)<100,"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":R(t)(f)===100}])},o(R(t)(f))+"% ",3)):E("",!0)])],10,et)]))),128))]),j.value.length===0&&K.value?(l(),n("div",ot,[m[7]||(m[7]=e("p",{class:"text-sm text-gray-500"},"没有找到匹配的章节",-1)),e("button",{onClick:B,class:"text-xs text-desert-yellow-600 hover:text-desert-yellow-800 mt-2"}," 清除搜索 ")])):E("",!0)]),e("div",st,[m[8]||(m[8]=e("h3",{class:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-3"},"页面切换",-1)),(l(!0),n(L,null,V(r.views,f=>(l(),n("button",{key:f.key,onClick:C=>k.$emit("switch-view",f.key),class:M(["w-full py-3 rounded-xl transition-all duration-300 text-sm lg:text-base flex items-center justify-center gap-3 border-2 group",{"bg-gradient-to-r from-star-blue-500 to-star-blue-600 text-white border-star-blue-500 shadow-lg":r.currentView===f.key,"bg-transparent border-star-blue-200 dark:border-star-blue-700 hover:border-desert-yellow-300 hover:bg-desert-yellow-50 dark:hover:bg-star-blue-800/30":r.currentView!==f.key}])},[e("span",lt,o(f.icon),1),e("span",nt,o(f.label),1)],10,at))),128))]),e("div",it,[e("div",dt,[m[9]||(m[9]=e("span",null,"已读章节",-1)),e("span",ct,o(w.value)+"/"+o(r.chapters.length),1)]),e("div",ut,[m[10]||(m[10]=e("span",null,"阅读进度",-1)),e("span",gt,o(T.value)+"%",1)]),e("div",bt,[m[11]||(m[11]=e("span",null,"书签数量",-1)),e("span",xt,o(R(u).length),1)]),e("div",mt,[m[12]||(m[12]=e("span",null,"阅读时间",-1)),e("span",pt,o(Q.value),1)])]),e("div",yt,[e("div",ht,[e("div",null,[e("div",vt,o(y.value.totalChaptersRead),1),m[13]||(m[13]=e("div",{class:"text-xs text-gray-500"},"已读章节",-1))]),e("div",null,[e("div",ft,o(Math.round(y.value.totalReadingTime/60)),1),m[14]||(m[14]=e("div",{class:"text-xs text-gray-500"},"阅读分钟",-1))])]),w.value>0?(l(),n("button",{key:0,onClick:_,class:"w-full mt-3 text-xs text-rose-red-500 hover:text-rose-red-700 transition-colors"}," 清除阅读记录 ")):E("",!0)]),m[16]||(m[16]=xe('<div class="mt-6 pt-6 border-t border-star-blue-200 dark:border-star-blue-700 text-xs text-gray-500 dark:text-gray-400" data-v-acf5b6e0><p class="font-semibold mb-2 text-desert-yellow-600 dark:text-desert-yellow-400" data-v-acf5b6e0>快捷键:</p><div class="space-y-1" data-v-acf5b6e0><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>上一章</span><kbd class="px-2 py-1 bg-desert-yellow-100 dark:bg-desert-yellow-900/30 rounded text-xs border border-desert-yellow-300" data-v-acf5b6e0>←</kbd></div><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>下一章</span><kbd class="px-2 py-1 bg-desert-yellow-100 dark:bg-desert-yellow-900/30 rounded text-xs border border-desert-yellow-300" data-v-acf5b6e0>→</kbd></div><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>添加书签</span><kbd class="px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 rounded text-xs border border-yellow-300" data-v-acf5b6e0>B</kbd></div><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>专注模式</span><kbd class="px-2 py-1 bg-green-100 dark:bg-green-900/30 rounded text-xs border border-green-300" data-v-acf5b6e0>F</kbd></div><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>切换主题</span><kbd class="px-2 py-1 bg-star-blue-100 dark:bg-star-blue-900/30 rounded text-xs border border-star-blue-300" data-v-acf5b6e0>D</kbd></div><div class="flex justify-between items-center" data-v-acf5b6e0><span data-v-acf5b6e0>关闭菜单</span><kbd class="px-2 py-1 bg-rose-red-100 dark:bg-rose-red-900/30 rounded text-xs border border-rose-red-300" data-v-acf5b6e0>ESC</kbd></div></div></div>',1))],2))}},wt=oe(kt,[["__scopeId","data-v-acf5b6e0"]]),_t={class:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-md rounded-2xl shadow-xl p-6 w-full max-w-md text-gray-800 dark:text-gray-200"},$t={class:"flex items-center justify-between mb-6"},Ct={class:"mb-5"},St={class:"flex items-center gap-4"},It={class:"text-lg font-semibold"},Tt={class:"mb-5"},jt={class:"flex items-center gap-4"},Rt={class:"text-lg font-semibold"},Bt={class:"mb-6"},zt={class:"grid grid-cols-2 gap-3"},Mt=["onClick"],Nt={__name:"ReadingSettings",props:{fontSize:Number,fontFamily:String,lineHeight:[Number,String]},emits:["close","increase-font-size","decrease-font-size","increase-line-height","decrease-line-height","update-font-family"],setup(r,{emit:g}){const s=[{label:"衬线体",value:"serif"},{label:"无衬线体",value:"sans-serif"},{label:"楷体",value:"kaiti"},{label:"手写体",value:"handwriting"}];return(i,u)=>(l(),n("div",_t,[e("div",$t,[u[5]||(u[5]=e("h2",{class:"text-lg font-semibold flex items-center gap-2 text-star-blue-600 dark:text-desert-yellow-300"}," 阅读设置 ",-1)),e("button",{onClick:u[0]||(u[0]=a=>i.$emit("close")),class:"w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-900 dark:to-rose-red-900 text-gray-800 dark:text-gray-200 hover:scale-110 transition-transform duration-200 shadow-md glow-button"}," ✕ ")]),e("div",Ct,[u[6]||(u[6]=e("label",{class:"block mb-2 text-sm opacity-80"},"字号大小",-1)),e("div",St,[e("button",{onClick:u[1]||(u[1]=a=>i.$emit("decrease-font-size")),class:"control-btn"},"－"),e("span",It,o(r.fontSize)+"px",1),e("button",{onClick:u[2]||(u[2]=a=>i.$emit("increase-font-size")),class:"control-btn"},"＋")])]),e("div",Tt,[u[7]||(u[7]=e("label",{class:"block mb-2 text-sm opacity-80"},"行间距",-1)),e("div",jt,[e("button",{onClick:u[3]||(u[3]=a=>i.$emit("decrease-line-height")),class:"control-btn"},"－"),e("span",Rt,o(r.lineHeight),1),e("button",{onClick:u[4]||(u[4]=a=>i.$emit("increase-line-height")),class:"control-btn"},"＋")])]),e("div",Bt,[u[8]||(u[8]=e("label",{class:"block mb-2 text-sm opacity-80"},"字体风格",-1)),e("div",zt,[(l(),n(L,null,V(s,a=>e("button",{key:a.value,onClick:d=>i.$emit("update-font-family",a.value),class:M(["font-btn",{"ring-2 ring-desert-yellow-400 bg-desert-yellow-100/50 dark:bg-desert-yellow-800/50":r.fontFamily===a.value}]),style:G({fontFamily:R(ge)(a.value)})},o(a.label),15,Mt)),64))])]),u[9]||(u[9]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 text-center italic mt-4"}," ✨ 小贴士：按 “+ / -” 键可快速调整字体大小 ",-1))]))}},Pt=oe(Nt,[["__scopeId","data-v-e6650a5c"]]),Dt={class:"mt-6 lg:mt-8 flex flex-wrap justify-center gap-2 lg:gap-4 text-sm border-t border-gray-300 dark:border-gray-700 pt-4"},Et=["title"],Ft={class:"hidden sm:inline"},Ht={__name:"BottomControls",props:{isDark:{type:Boolean,default:!1},hasBookmark:{type:Boolean,default:!1}},emits:["toggle-reading-settings","toggle-dark-mode","add-bookmark","show-shortcuts"],setup(r,{emit:g}){const s=r,i=g,u=q(()=>{const d="flex items-center gap-2 px-3 lg:px-4 py-2 border rounded-lg transition";return s.hasBookmark?`${d} bg-yellow-100 border-yellow-400 text-yellow-800 dark:bg-yellow-900 dark:border-yellow-600 dark:text-yellow-200 hover:bg-yellow-200 dark:hover:bg-yellow-800`:`${d} border-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800`}),a=()=>{i("add-bookmark")};return(d,c)=>(l(),n("footer",Dt,[e("button",{onClick:c[0]||(c[0]=b=>d.$emit("toggle-reading-settings")),class:"btn-secondary text-xs lg:text-sm flex items-center gap-2 px-3 lg:px-4 py-2 border border-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition"},[...c[3]||(c[3]=[e("span",null,"🎨",-1),e("span",{class:"hidden sm:inline"},"阅读设置",-1)])]),e("button",{onClick:c[1]||(c[1]=b=>d.$emit("toggle-dark-mode")),class:"text-xs lg:text-sm flex items-center gap-2 px-3 lg:px-4 py-2 border border-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition hidden lg:flex"},o(r.isDark?"☀️ 白天模式":"🌙 夜间模式"),1),e("button",{onClick:a,class:M(["text-xs lg:text-sm flex items-center gap-2 px-3 lg:px-4 py-2 border rounded-lg transition",u.value]),title:r.hasBookmark?"当前位置已有书签":"添加书签"},[e("span",null,o(r.hasBookmark?"⭐":"🔖"),1),e("span",Ft,o(r.hasBookmark?"已书签":"添加书签"),1)],10,Et),e("button",{onClick:c[2]||(c[2]=b=>d.$emit("show-shortcuts")),class:"text-xs lg:text-sm flex items-center gap-2 px-3 lg:px-4 py-2 border border-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition"},[...c[4]||(c[4]=[e("span",null,"⌨️",-1),e("span",{class:"hidden sm:inline"},"快捷键",-1)])])]))}},At={class:"flex justify-between items-center mb-6"},Ot={class:"space-y-4"},qt={class:"flex items-center gap-3"},Lt={class:"text-lg transition-transform duration-300 group-hover:scale-110"},Vt={class:"text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-gray-100"},Kt={class:"px-3 py-1 bg-gradient-to-r from-desert-yellow-100 to-desert-yellow-200 dark:from-desert-yellow-900/30 dark:to-desert-yellow-800/30 rounded-lg text-xs font-mono border border-desert-yellow-300 shadow-sm group-hover:shadow-md transition-shadow duration-200"},Ut={__name:"ShortcutsHelp",emits:["close"],setup(r){const g=[{label:"上一章",key:"←",icon:"◀"},{label:"下一章",key:"→",icon:"▶"},{label:"切换主题",key:"D",icon:"🌙"},{label:"关闭菜单",key:"ESC",icon:"🚪"},{label:"显示快捷键",key:"?",icon:"❓"}];return(s,i)=>(l(),n("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:i[2]||(i[2]=u=>s.$emit("close"))},[e("div",{class:"card p-6 max-w-md w-full shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:i[1]||(i[1]=ye(()=>{},["stop"]))},[e("div",At,[i[3]||(i[3]=e("h3",{class:"text-lg font-semibold text-star-blue-600 dark:text-star-blue-400"},"键盘快捷键",-1)),e("button",{onClick:i[0]||(i[0]=u=>s.$emit("close")),class:"p-2 rounded-lg hover:bg-desert-yellow-100 dark:hover:bg-star-blue-700 transition text-rose-red-500 star-twinkle"}," ✕ ")]),e("div",Ot,[(l(),n(L,null,V(g,(u,a)=>e("div",{key:a,class:"flex justify-between items-center py-3 border-b border-gray-200 dark:border-gray-700 last:border-b-0 group hover:bg-desert-yellow-50 dark:hover:bg-star-blue-900/20 rounded-lg px-3 transition-colors duration-200"},[e("div",qt,[e("span",Lt,o(u.icon),1),e("span",Vt,o(u.label),1)]),e("kbd",Kt,o(u.key),1)])),64))]),i[4]||(i[4]=e("div",{class:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700"},[e("p",{class:"text-xs text-gray-500 dark:text-gray-400 text-center"}," 使用键盘快捷键提升阅读效率 ")],-1))])]))}},Jt=oe(Ut,[["__scopeId","data-v-0722d01e"]]);function Qt(){const r=$(JSON.parse(localStorage.getItem("little_prince_comments")||"[]")),g=q(()=>{const b={};return r.value.forEach(t=>{b[t.chapterIndex]||(b[t.chapterIndex]=[]),b[t.chapterIndex].push(t)}),b}),s=b=>g.value[b]||[],i=(b,t,p="匿名读者")=>{const v={id:Date.now()+Math.random(),chapterIndex:b,content:t,user:p,timestamp:new Date().toISOString(),likes:0,replies:[]};return r.value.push(v),c(),v},u=(b,t,p="匿名读者")=>{const v=r.value.find(I=>I.id===b);if(v){const I={id:Date.now()+Math.random(),content:t,user:p,timestamp:new Date().toISOString(),likes:0};return v.replies.push(I),c(),I}},a=b=>{const t=r.value.find(p=>p.id===b);t&&(t.likes=(t.likes||0)+1,c())},d=b=>{const t=r.value.findIndex(p=>p.id===b);t!==-1&&(r.value.splice(t,1),c())},c=()=>{localStorage.setItem("little_prince_comments",JSON.stringify(r.value))};return{comments:r,commentsByChapter:g,getCommentsByChapter:s,addComment:i,addReply:u,likeComment:a,deleteComment:d}}const Wt={class:"comments-section mt-12 pt-8 border-t border-gray-200 dark:border-gray-700"},Xt={class:"flex justify-between items-center mb-6"},Yt={class:"text-xl font-semibold text-star-blue-700 dark:text-star-blue-300"},Gt={key:0,class:"mb-6 p-4 bg-desert-yellow-50 dark:bg-desert-yellow-900/20 rounded-lg"},Zt={class:"flex justify-between items-center mt-3"},er={class:"flex items-center space-x-4"},tr=["disabled"],rr={class:"space-y-6"},or={class:"flex justify-between items-start mb-3"},sr={class:"flex items-center space-x-3"},ar={class:"w-8 h-8 bg-desert-yellow-100 dark:bg-desert-yellow-900 rounded-full flex items-center justify-center text-desert-yellow-600 dark:text-desert-yellow-400 font-semibold text-sm"},lr={class:"font-medium text-gray-900 dark:text-gray-100"},nr={class:"text-xs text-gray-500"},ir=["onClick"],dr={class:"text-gray-700 dark:text-gray-300 mb-3 leading-relaxed"},cr={class:"flex items-center justify-between text-sm"},ur={class:"flex items-center space-x-4"},gr=["onClick"],br=["onClick"],xr={key:0,class:"mt-4 pl-8 border-l-2 border-desert-yellow-200"},mr=["onUpdate:modelValue"],pr={class:"flex justify-end space-x-2 mt-2"},yr=["onClick","disabled"],hr={key:1,class:"mt-4 space-y-3 pl-8 border-l-2 border-desert-yellow-100"},vr={class:"flex justify-between items-start mb-2"},fr={class:"flex items-center space-x-2"},kr={class:"w-6 h-6 bg-star-blue-100 dark:bg-star-blue-900 rounded-full flex items-center justify-center text-star-blue-600 dark:text-star-blue-400 font-semibold text-xs"},wr={class:"font-medium text-gray-900 dark:text-gray-100 text-sm"},_r={class:"text-xs text-gray-500"},$r={class:"text-gray-600 dark:text-gray-400 text-sm"},Cr={key:0,class:"text-center py-12"},Sr={__name:"CommentsSection",props:{chapterIndex:{type:Number,required:!0}},setup(r){const g=r,{getCommentsByChapter:s,addComment:i,addReply:u,likeComment:a,deleteComment:d}=Qt(),c=$(!1),b=$(""),t=$(""),p=$(null),v=$({}),I=q(()=>s(g.chapterIndex)),z=q(()=>[...I.value].sort((y,T)=>new Date(T.timestamp)-new Date(y.timestamp))),H=()=>{b.value.trim()&&(i(g.chapterIndex,b.value.trim(),t.value.trim()||"匿名读者"),b.value="",t.value="",c.value=!1)},A=y=>{p.value===y?p.value=null:(p.value=y,v.value[y]="")},K=y=>{v.value[y]?.trim()&&(u(y,v.value[y].trim(),t.value.trim()||"匿名读者"),p.value=null,v.value[y]="")},W=y=>{const T=new Date(y),w=(new Date-T)/(1e3*60*60);return w<1?"刚刚":w<24?`${Math.floor(w)}小时前`:w<168?`${Math.floor(w/24)}天前`:T.toLocaleDateString("zh-CN")},U=y=>{a(y)},J=y=>{confirm("确定要删除这条评论吗？")&&d(y)};return(y,T)=>(l(),n("div",Wt,[e("div",Xt,[e("h3",Yt," 读者互动 ("+o(I.value.length)+") ",1),e("button",{onClick:T[0]||(T[0]=h=>c.value=!c.value),class:"px-4 py-2 bg-desert-yellow-500 text-white rounded-lg hover:bg-desert-yellow-600 transition-colors"},o(c.value?"取消评论":"发表评论"),1)]),c.value?(l(),n("div",Gt,[te(e("textarea",{"onUpdate:modelValue":T[1]||(T[1]=h=>b.value=h),placeholder:"分享您的阅读感受...",rows:"4",class:"w-full p-3 border border-desert-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-desert-yellow-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"},null,512),[[ue,b.value]]),e("div",Zt,[e("div",er,[te(e("input",{"onUpdate:modelValue":T[2]||(T[2]=h=>t.value=h),placeholder:"您的昵称 (可选)",class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-desert-yellow-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm"},null,512),[[ue,t.value]])]),e("button",{onClick:H,disabled:!b.value.trim(),class:"px-6 py-2 bg-rose-red-500 text-white rounded-lg hover:bg-rose-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," 发表评论 ",8,tr)])])):E("",!0),e("div",rr,[(l(!0),n(L,null,V(z.value,h=>(l(),n("div",{key:h.id,class:"comment-item p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},[e("div",or,[e("div",sr,[e("div",ar,o(h.user.charAt(0)),1),e("div",null,[e("p",lr,o(h.user),1),e("p",nr,o(W(h.timestamp)),1)])]),e("button",{onClick:w=>J(h.id),class:"text-gray-400 hover:text-rose-red-500 transition-colors p-1",title:"删除评论"}," ✕ ",8,ir)]),e("p",dr,o(h.content),1),e("div",cr,[e("div",ur,[e("button",{onClick:w=>U(h.id),class:"flex items-center space-x-1 text-gray-500 hover:text-rose-red-500 transition-colors"},[T[4]||(T[4]=e("span",null,"❤️",-1)),e("span",null,o(h.likes||0),1)],8,gr),e("button",{onClick:w=>A(h.id),class:"text-gray-500 hover:text-desert-yellow-600 transition-colors"}," 回复 ",8,br)])]),p.value===h.id?(l(),n("div",xr,[te(e("textarea",{"onUpdate:modelValue":w=>v.value[h.id]=w,placeholder:"写下您的回复...",rows:"2",class:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-desert-yellow-400 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"},null,8,mr),[[ue,v.value[h.id]]]),e("div",pr,[e("button",{onClick:T[3]||(T[3]=w=>p.value=null),class:"px-3 py-1 text-gray-500 hover:text-gray-700 transition-colors"}," 取消 "),e("button",{onClick:w=>K(h.id),disabled:!v.value[h.id]?.trim(),class:"px-3 py-1 bg-desert-yellow-500 text-white rounded hover:bg-desert-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm"}," 回复 ",8,yr)])])):E("",!0),h.replies&&h.replies.length>0?(l(),n("div",hr,[(l(!0),n(L,null,V(h.replies,w=>(l(),n("div",{key:w.id,class:"reply-item p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[e("div",vr,[e("div",fr,[e("div",kr,o(w.user.charAt(0)),1),e("p",wr,o(w.user),1)]),e("p",_r,o(W(w.timestamp)),1)]),e("p",$r,o(w.content),1)]))),128))])):E("",!0)]))),128)),I.value.length===0?(l(),n("div",Cr,[...T[5]||(T[5]=[e("div",{class:"text-6xl mb-4"},"💬",-1),e("p",{class:"text-gray-500 dark:text-gray-400 mb-2"},"还没有评论",-1),e("p",{class:"text-sm text-gray-400"},"成为第一个分享阅读感受的人吧！",-1)])])):E("",!0)])]))}},Ir=oe(Sr,[["__scopeId","data-v-2435ac29"]]);function Tr(r){const g=$(!1);let s=[],i=Date.now();const u=["KeyR","KeyO","KeyS","KeyE"],a=["KeyS","KeyT","KeyA","KeyR"],d=["KeyF","KeyO","KeyX"],c=["KeyP","KeyI","KeyL","KeyO","KeyT"];console.log("🎯 彩蛋系统初始化完成");const b=y=>{if(console.log("按键按下:",y.code,"Ctrl:",y.ctrlKey,"Shift:",y.shiftKey),y.target.tagName==="INPUT"||y.target.tagName==="TEXTAREA"||y.target.isContentEditable){console.log("忽略输入框按键");return}t(y);const T=r[y.key];T&&(y.preventDefault(),T())},t=y=>{const T=Date.now();T-i>2e3&&(console.log("重置彩蛋序列 - 超时"),s=[]),i=T,s.push(y.code),console.log("当前彩蛋序列:",s);const h=Math.max(u.length,a.length,d.length,c.length);s.length>h&&s.shift();const w=s.join(",");w===u.join(",")&&(console.log("🌹 玫瑰彩蛋匹配成功！"),p(),s=[]),w===a.join(",")&&(console.log("⭐ 星星彩蛋匹配成功！"),v(),s=[]),w===d.join(",")&&(console.log("🦊 狐狸彩蛋匹配成功！"),I(),s=[]),w===c.join(",")&&(console.log("✈️ 飞行员彩蛋匹配成功！"),z(),s=[])},p=()=>{g.value||(g.value=!0,console.log("🌹 玫瑰彩蛋激活！"),H(),J("🌹 独一无二的玫瑰",`"你为你的玫瑰失去的时间，使你的玫瑰变得重要了。"

我的玫瑰是独一无二的，因为她是我浇灌的，是我放在花罩中的，是我用屏风保护起来的。`),setTimeout(()=>{g.value=!1},5e3))},v=()=>{g.value||(g.value=!0,console.log("⭐ 星星彩蛋激活！"),A(),J("⭐ 夜空中微笑的星星",`"如果你在夜晚抬头看星星，就会知道我的那颗星星在对你微笑。"

所有的星星都将是你的朋友，因为你懂得真正重要的东西。`),setTimeout(()=>{g.value=!1},5e3))},I=()=>{g.value||(g.value=!0,console.log("🦊 狐狸彩蛋激活！"),K(),J("🦊 被驯养的狐狸",`"如果你驯养了我，我们就会彼此需要。对我来说，你就是世界上唯一的了；我对你来说，也是世界上唯一的了。"

你要永远为你驯养的东西负责。`),setTimeout(()=>{g.value=!1},5e3))},z=()=>{g.value||(g.value=!0,console.log("✈️ 飞行员彩蛋激活！"),W(),J("✈️ 飞行员的领悟",`"真正重要的东西，用眼睛是看不见的，要用心。"

我就在星星中的一颗上面生活，我就在其中的一颗上面微笑。对你来说，就好像所有的星星都在笑。`),setTimeout(()=>{g.value=!1},5e3))},H=()=>{console.log("显示浮动玫瑰");for(let y=0;y<15;y++)U("🌹","text-2xl","rose")},A=()=>{console.log("显示浮动星星");for(let y=0;y<20;y++)U("⭐","text-xl","star")},K=()=>{console.log("显示狐狸动画"),U("🦊","text-4xl","fox",3e3)},W=()=>{console.log("显示飞机动画"),U("✈️","text-3xl","plane",4e3)},U=(y,T,h,w=2e3)=>{console.log("创建浮动元素:",y);const O=document.createElement("div");O.innerHTML=y,O.className=`fixed pointer-events-none z-50 ${T}`;const j=Math.random()*window.innerWidth,P=window.innerHeight+50;O.style.left=`${j}px`,O.style.top=`${P}px`;let B="egg-floatUp";h==="rose"&&(B="egg-floatUpRotate"),h==="star"&&(B="egg-floatUpTwinkle"),h==="fox"&&(B="egg-foxAppear"),h==="plane"&&(B="egg-planeFly"),O.style.animation=`${B} ${w}ms ease-out forwards`,document.body.appendChild(O),console.log("元素已添加到DOM"),setTimeout(()=>{O.parentNode&&(O.parentNode.removeChild(O),console.log("元素已从DOM移除"))},w)},J=(y,T)=>{console.log("显示彩蛋消息:",y);const h=document.createElement("div");h.className="fixed inset-0 flex items-center justify-center z-50 pointer-events-none";const w=document.createElement("div");w.className="bg-white/95 dark:bg-gray-800/95 rounded-3xl p-8 max-w-md mx-4 shadow-2xl border border-desert-yellow-200 dark:border-desert-yellow-800 backdrop-blur-sm transform scale-95 opacity-0 pointer-events-auto",w.style.animation="egg-eggMessageAppear 0.6s ease-out forwards",w.innerHTML=`
      <div class="text-center">
        <div class="text-4xl mb-4">${y.split(" ")[0]}</div>
        <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2">${y}</h3>
        <div class="h-px bg-gradient-to-r from-transparent via-desert-yellow-400 to-transparent my-4"></div>
        <p class="text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line">${T}</p>
        <button 
          onclick="this.parentElement.parentElement.parentElement.remove()"
          class="mt-6 px-6 py-2 bg-desert-yellow-500 hover:bg-desert-yellow-600 text-white rounded-full transition-colors duration-200 font-medium"
        >
          关闭
        </button>
      </div>
    `,h.appendChild(w),document.body.appendChild(h),console.log("彩蛋消息已显示"),h.addEventListener("click",O=>{O.target===h&&document.body.removeChild(h)}),setTimeout(()=>{document.body.contains(h)&&(w.style.animation="egg-eggMessageDisappear 0.4s ease-in forwards",setTimeout(()=>{document.body.contains(h)&&document.body.removeChild(h)},400))},5e3)};return ce(()=>{console.log("🎯 彩蛋事件监听器已注册"),document.addEventListener("keydown",b)}),pe(()=>{console.log("🎯 彩蛋事件监听器已移除"),document.removeEventListener("keydown",b)}),{handleKeydown:b,easterEggActive:g}}const jr={class:"reader-content"},Rr={class:"text-center mb-8 relative"},Br={class:"text-2xl lg:text-3xl font-bold mb-2 relative z-10 font-handwriting text-star-blue-700 dark:text-star-blue-300"},zr={class:"mt-6 relative z-10"},Mr={class:"absolute -left-4 top-0 w-8 h-8 bg-desert-yellow-200/30 dark:bg-desert-yellow-900/20 rounded-full blur-sm"},Nr={class:"absolute -right-4 bottom-0 w-6 h-6 bg-rose-red-200/30 dark:bg-rose-red-900/20 rounded-full blur-sm"},Pr={class:"space-y-6 relative z-10"},Dr=["onMouseenter","onMouseleave"],Er={class:"inline-block w-6 text-desert-yellow-500 text-sm font-mono opacity-60 mr-2 align-top"},Fr={class:"flex justify-between items-center mt-12 pt-6 border-t border-gray-200 dark:border-gray-700 text-center"},Hr=["disabled"],Ar=["disabled"],Or={key:0,class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-b from-blue-900/90 to-desert-yellow-900/70 text-white text-center backdrop-blur-md"},qr={__name:"ReaderView",props:{novelInfo:Object,chapterIndex:Number,chapters:Array,currentChapter:Array,fontSize:Number,fontFamily:String,lineHeight:[Number,String]},emits:["prev-chapter","next-chapter","bookmark-added","update:fontSize","update:fontFamily"],setup(r,{emit:g}){const s=r,i=g,u=$(null),a=$(!1),d=$(""),c=$("success"),b=$(null),{addBookmark:t}=_e(),{recordReadingProgress:p,getChapterProgress:v}=$e(),I=$(0),z=$(!1),H=$(!1),A=()=>i("prev-chapter"),K=()=>i("next-chapter"),W=j=>["导读","献词","第一章","第二章","第三章","第四章","第五章","第六章","第七章","第八章","第九章","第十章","第十一章","第十二章","第十三章","第十四章","第十五章","第十六章","第十七章","第十八章","第十九章","第二十章","第二十一章","第二十二章","第二十三章","第二十四章","第二十五章","第二十六章","第二十七章"][j]||`第${j+1}章`,U=j=>{console.log("悬停段落:",j)},J=j=>{console.log("离开段落:",j)},y=()=>{const j=window.scrollY||document.documentElement.scrollTop,P=document.documentElement.scrollHeight,B=window.innerHeight,F=P-B;return F>0?Math.min(Math.round(j/F*100),100):0},T=()=>{const j=t(s.chapterIndex,I.value);j.success?(d.value="书签已添加",c.value="success",a.value=!0,i("bookmark-added",j.bookmark),setTimeout(()=>a.value=!1,2e3)):(d.value=j.message||"添加书签失败",c.value="error",a.value=!0,setTimeout(()=>a.value=!1,2e3))},h=q(()=>c.value==="success"?"bg-green-500":"bg-red-500"),w=()=>{const j=window.scrollY||document.documentElement.scrollTop,P=document.documentElement.scrollHeight,B=window.innerHeight;if(I.value=j,P>B){const F=P-B,Q=F>0?Math.min(Math.round(j/F*100),100):0;b.value&&clearTimeout(b.value),b.value=setTimeout(()=>{const ee=v(s.chapterIndex);Math.abs(Q-ee)>=1&&p(s.chapterIndex,Q,.1)},500)}};return Tr({ArrowLeft:A,ArrowRight:K,"=":()=>{s.fontSize<24&&i("update:fontSize",s.fontSize+1)},"-":()=>{s.fontSize>14&&i("update:fontSize",s.fontSize-1)},b:T,B:T,f:()=>{const j=["serif","sans","handwriting"],B=(j.indexOf(s.fontFamily)+1)%j.length;i("update:fontFamily",j[B])}}),ne(I,()=>{s.chapterIndex===s.chapters.length-1&&y()>=98&&!H.value&&(H.value=!0,z.value=!0,setTimeout(()=>{z.value=!1},1e4))}),ne(()=>s.chapterIndex,(j,P)=>{j!==P&&(H.value=!1,z.value=!1)}),ce(()=>{const j=localStorage.getItem(`chapter_${s.chapterIndex}_position`);j&&me(()=>window.scrollTo({top:parseInt(j)})),window.addEventListener("scroll",w),p(s.chapterIndex,0,0)}),pe(()=>{I.value>0&&localStorage.setItem(`chapter_${s.chapterIndex}_position`,I.value.toString()),b.value&&clearTimeout(b.value),window.removeEventListener("scroll",w)}),(j,P)=>{const B=Ce("motion");return l(),n("div",jr,[e("header",Rr,[P[0]||(P[0]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-desert-yellow-100/30 to-transparent dark:via-star-blue-900/20 rounded-full blur-xl"},null,-1)),te((l(),n("h1",Br,[re(o(r.novelInfo.title),1)])),[[B,{initial:{opacity:0,y:-20},enter:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}}]]),te((l(),n("p",{class:"text-gray-600 dark:text-gray-400 relative z-10 italic",style:G({fontFamily:R(ge)(r.fontFamily)})},[re(" 作者："+o(r.novelInfo.author),1)],4)),[[B,{initial:{opacity:0},enter:{opacity:1,transition:{duration:.6,delay:.1,ease:"easeOut"}}}]]),e("div",zr,[te((l(),n("h2",{class:"text-xl font-semibold px-6 py-3 bg-gradient-to-r from-desert-yellow-200/50 to-rose-red-200/50 dark:from-desert-yellow-900/30 dark:to-rose-red-900/30 rounded-full inline-block border border-desert-yellow-300/50 shadow-sm",style:G({fontFamily:R(ge)(r.fontFamily)})},[re(o(W(r.chapterIndex)),1)],4)),[[B,{initial:{opacity:0,scale:.8},enter:{opacity:1,scale:1,transition:{duration:.5,delay:.2,ease:"backOut"}}}]])])]),e("article",{ref_key:"articleRef",ref:u,class:"transition-all duration-500 mt-8 relative",style:G({fontSize:r.fontSize+"px",fontFamily:R(ge)(r.fontFamily),lineHeight:r.lineHeight})},[te(e("div",Mr,null,512),[[B,{initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{duration:.8,delay:.3,ease:"easeOut"}}}]]),te(e("div",Nr,null,512),[[B,{initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{duration:.8,delay:.4,ease:"easeOut"}}}]]),e("div",Pr,[(l(!0),n(L,null,V(r.currentChapter,(F,Q)=>te((l(),n("p",{key:Q,class:M(["transition-opacity duration-500 pb-4 border-b border-gray-100 dark:border-gray-800 last:border-b-0 paragraph-animation",{"text-gray-800 dark:text-gray-200":r.fontFamily!=="handwriting","text-gray-700 dark:text-gray-300":r.fontFamily==="handwriting"}]),onMouseenter:ee=>U(Q),onMouseleave:ee=>J(Q)},[e("span",Er,o(Q+1),1),re(" "+o(F),1)],42,Dr)),[[B,{initial:{opacity:0,x:-20},enter:{opacity:1,x:0,transition:{duration:.5,delay:.1*(Q+1),ease:"easeOut"}},hovered:{scale:1.02,transition:{duration:.2}}}]])),128))])],4),a.value?(l(),n("div",{key:0,class:M(["fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white px-6 py-3 rounded-full shadow-lg z-50 transition-opacity duration-300",h.value])}," 📖 "+o(d.value),3)):E("",!0),e("div",Fr,[e("button",{class:"px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 bg-desert-yellow-100 text-desert-yellow-800 dark:bg-desert-yellow-900 dark:text-desert-yellow-200 disabled:opacity-40",onClick:A,disabled:r.chapterIndex===0}," ⬅ 上一章 ",8,Hr),e("button",{class:"px-6 py-3 rounded-full font-semibold transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105 bg-rose-red-100 text-rose-red-800 dark:bg-rose-red-900 dark:text-rose-red-200 disabled:opacity-40",onClick:K,disabled:r.chapterIndex===r.chapters.length-1}," 下一章 ➡ ",8,Ar)]),Z(Ir,{"chapter-index":r.chapterIndex},null,8,["chapter-index"]),Z(de,{name:"fade-egg"},{default:ie(()=>[z.value?(l(),n("div",Or,[...P[1]||(P[1]=[e("svg",{width:"160",height:"120",viewBox:"0 0 160 120",class:"mb-6 animate-float"},[e("circle",{cx:"80",cy:"60",r:"55",fill:"none",stroke:"white","stroke-opacity":"0.2"}),e("circle",{cx:"80",cy:"60",r:"2",fill:"white"}),e("path",{d:"M65 80 Q80 50 95 80 Z",fill:"white","fill-opacity":"0.3"})],-1),e("p",{class:"text-xl mb-3 font-handwriting"},"风吹过沙漠，我听见那熟悉的笑声。",-1),e("p",{class:"text-lg opacity-90 font-handwriting"},"—— 他回来了。",-1)])])):E("",!0)]),_:1})])}}},Lr=oe(qr,[["__scopeId","data-v-629b357e"]]),Vr={class:"outline-view relative overflow-hidden min-h-screen bg-gradient-to-b from-star-blue-50 to-white dark:from-gray-900 dark:to-gray-950"},Kr={class:"space-y-12 relative z-10 px-6 pb-20 max-w-5xl mx-auto"},Ur={class:"card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden"},Jr={class:"relative z-10"},Qr={class:"grid md:grid-cols-2 gap-6"},Wr={class:"space-y-3"},Xr={class:"w-7 h-7 bg-desert-yellow-400 rounded-full flex items-center justify-center text-white text-sm mt-0.5 shadow"},Yr={class:"text-gray-700 dark:text-gray-300 text-base"},Gr={class:"space-y-3"},Zr={class:"w-7 h-7 bg-rose-red-400 rounded-full flex items-center justify-center text-white text-sm mt-0.5 shadow"},eo={class:"text-gray-700 dark:text-gray-300 text-base"},to={class:"card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden"},ro={class:"relative z-10"},oo={class:"grid md:grid-cols-2 gap-6"},so={class:"text-2xl mt-1"},ao={__name:"OutlineView",setup(r){const g=["导读：作者介绍与作品背景","献词：献给列翁·维尔特","第1-2章：飞行员与小王子在沙漠相遇","第3-9章：小王子离开自己的星球"],s=["第10-15章：访问其他小行星的居民","第16-27章：地球上的经历与告别"],i=[{icon:"👁️",title:"用心观察",quote:"真正重要的东西，用眼睛是看不见的，要用心。",bg:"from-desert-yellow-50 to-desert-yellow-100 dark:from-desert-yellow-900/20 dark:to-desert-yellow-800/20",colorTitle:"text-desert-yellow-700 dark:text-desert-yellow-300",colorText:"text-gray-600 dark:text-gray-400"},{icon:"⏳",title:"时间的价值",quote:"你为你的玫瑰失去的时间，使你的玫瑰变得重要了。",bg:"from-rose-red-50 to-rose-red-100 dark:from-rose-red-900/20 dark:to-rose-red-800/20",colorTitle:"text-rose-red-700 dark:text-rose-red-300",colorText:"text-gray-600 dark:text-gray-400"},{icon:"👶",title:"纯真之心",quote:"所有的大人都曾经是小孩，虽然，只有少数的人记得。",bg:"from-star-blue-50 to-star-blue-100 dark:from-star-blue-900/20 dark:to-star-blue-800/20",colorTitle:"text-star-blue-700 dark:text-star-blue-300",colorText:"text-gray-600 dark:text-gray-400"},{icon:"🤝",title:"责任与爱",quote:"你要永远为你驯养的东西负责。",bg:"from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",colorTitle:"text-green-700 dark:text-green-300",colorText:"text-gray-600 dark:text-gray-400"}];return(u,a)=>(l(),n("div",Vr,[a[5]||(a[5]=xe('<div class="stars" data-v-b4031656></div><div class="meteors" data-v-b4031656></div><header class="text-center mb-12 relative z-10 pt-12" data-v-b4031656><h2 class="text-3xl lg:text-4xl font-bold text-star-blue-700 dark:text-star-blue-300 font-handwriting gentle-float drop-shadow-lg" data-v-b4031656> 《小王子》星际地图 </h2><p class="text-gray-600 dark:text-gray-400 mt-4 max-w-2xl mx-auto leading-relaxed" data-v-b4031656> 穿越群星，探索《小王子》的哲思宇宙，每一章都是一颗闪烁的星球 </p></header>',3)),e("div",Kr,[a[4]||(a[4]=xe('<div class="card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden" data-v-b4031656><div class="absolute top-0 right-0 w-48 h-48 bg-gradient-to-bl from-desert-yellow-200/40 to-transparent rounded-full -translate-y-20 translate-x-20 blur-2xl" data-v-b4031656></div><div class="relative z-10" data-v-b4031656><h3 class="text-2xl font-semibold mb-4 text-star-blue-600 dark:text-star-blue-400 flex items-center gap-3" data-v-b4031656><span class="text-3xl" data-v-b4031656>🌌</span> 故事简介 </h3><p class="text-gray-700 dark:text-gray-300 text-base leading-relaxed" data-v-b4031656> 《小王子》由法国作家安托万·德·圣-埃克苏佩里于1942年创作。故事讲述一位来自B612星球的小王子， 在游历多个星球与地球后，重新领悟“爱”“责任”与“纯真”的意义。 </p></div></div>',1)),e("div",Ur,[a[1]||(a[1]=e("div",{class:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-rose-red-200/40 to-transparent rounded-full -translate-x-20 translate-y-20 blur-2xl"},null,-1)),e("div",Jr,[a[0]||(a[0]=e("h3",{class:"text-2xl font-semibold mb-4 text-desert-yellow-600 dark:text-desert-yellow-400 flex items-center gap-3"},[e("span",{class:"text-3xl"},"🛸"),re(" 星际旅程结构 ")],-1)),e("div",Qr,[e("ul",Wr,[(l(),n(L,null,V(g,(d,c)=>e("li",{key:c,class:"flex items-start gap-3"},[e("span",Xr,o(c+1),1),e("span",Yr,o(d),1)])),64))]),e("ul",Gr,[(l(),n(L,null,V(s,(d,c)=>e("li",{key:c,class:"flex items-start gap-3"},[e("span",Zr,o(c+5),1),e("span",eo,o(d),1)])),64))])])])]),e("div",to,[a[3]||(a[3]=e("div",{class:"absolute top-0 left-1/2 transform -translate-x-1/2 w-64 h-64 bg-gradient-to-b from-star-blue-200/30 to-transparent rounded-full -translate-y-28 blur-2xl"},null,-1)),e("div",ro,[a[2]||(a[2]=e("h3",{class:"text-2xl font-semibold mb-6 text-rose-red-600 dark:text-rose-red-400 flex items-center gap-3"},[e("span",{class:"text-3xl"},"💫"),re(" 宇宙真理 ")],-1)),e("div",oo,[(l(),n(L,null,V(i,(d,c)=>e("div",{key:c,class:M(["flex items-start gap-3 p-4 rounded-2xl bg-gradient-to-r",d.bg])},[e("span",so,o(d.icon),1),e("div",null,[e("p",{class:M(["font-semibold",d.colorTitle])},o(d.title),3),e("p",{class:M(["text-sm mt-1",d.colorText])}," “"+o(d.quote)+"” ",3)])],2)),64))])])])])]))}},lo=oe(ao,[["__scopeId","data-v-b4031656"]]),no={class:"characters-view relative min-h-screen overflow-hidden"},io={class:"text-center mb-6 relative z-10 pt-4"},co={class:"flex justify-center gap-3 mt-4"},uo={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6 relative z-10 px-4 lg:px-6 pb-12"},go=["onClick"],bo={class:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-2xl transition-all duration-300 flex flex-col relative overflow-hidden h-full"},xo={class:"relative z-10"},mo={class:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-700 dark:to-rose-red-700 flex items-center justify-center text-2xl shadow-lg group-hover:scale-110 transition-transform duration-300"},po={class:"text-lg font-semibold text-center text-gray-800 dark:text-gray-200 mb-1"},yo={class:"text-desert-yellow-600 dark:text-desert-yellow-400 text-sm text-center font-medium mb-3"},ho={class:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed flex-1"},vo={key:0,class:"mt-4 space-y-2"},fo={class:"text-gray-500 dark:text-gray-400 truncate flex-1 mr-2"},ko={class:"hidden xs:inline"},wo={key:1,class:"relative z-10 px-4 lg:px-6 pb-12"},_o={class:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-4 mb-6 shadow-lg backdrop-blur-sm max-w-4xl mx-auto flex flex-wrap justify-center gap-2"},$o=["onClick"],Co={class:"bg-white/90 dark:bg-gray-900/90 rounded-3xl shadow-2xl p-6 relative overflow-hidden min-h-[500px] cosmic-bg"},So=["onClick"],Io={class:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 bg-black/80 text-white text-xs rounded-full whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 backdrop-blur-sm"},To={class:"bg-white/90 dark:bg-gray-900/90 rounded-3xl shadow-2xl p-6 mt-6"},jo={class:"h-[350px] overflow-y-auto custom-scrollbar"},Ro={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-10"},Bo={key:1},zo={class:"text-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700"},Mo={class:"flex items-center justify-center gap-4 mb-3"},No={class:"w-20 h-20 rounded-2xl bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-600 dark:to-rose-red-600 flex items-center justify-center text-3xl shadow-lg"},Po={class:"text-xl font-bold text-gray-800 dark:text-gray-200 mb-1"},Do={class:"text-sm text-gray-600 dark:text-gray-400"},Eo={class:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed text-left"},Fo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ho={class:"flex items-center gap-3 mb-2"},Ao={class:"flex-1"},Oo={class:"font-semibold text-gray-800 dark:text-gray-200 truncate"},qo={class:"text-sm text-gray-600 dark:text-gray-400"},Lo={class:"relative bg-white dark:bg-gray-800 rounded-xl lg:rounded-3xl shadow-2xl w-11/12 max-w-lg lg:max-w-xl p-6 lg:p-8 text-center overflow-hidden mx-4"},Vo={class:"relative z-10"},Ko={class:"text-4xl lg:text-5xl mb-3 lg:mb-4"},Uo={class:"text-xl lg:text-2xl font-bold mb-1 lg:mb-2"},Jo={class:"text-xs lg:text-sm text-gray-600 dark:text-gray-300 mb-3 lg:mb-4"},Qo={__name:"CharactersView",props:{characters:Array},setup(r){const g=$("cards"),s=$(null),i=$(null),u=$(0),a=$({love:!0,friendship:!0,respect:!0,encounter:!0});$(null);const d=$(null),c=$({width:0,height:0}),b=$({小王子:{x:50,y:35},飞行员:{x:25,y:65},狐狸:{x:75,y:65},玫瑰:{x:50,y:15},国王:{x:10,y:15},爱慕虚荣的人:{x:20,y:10},酒鬼:{x:30,y:10},商人:{x:70,y:10},点灯人:{x:80,y:15},地理学家:{x:90,y:15}}),t=()=>{if(!d.value)return;const S=d.value.getBoundingClientRect();c.value={width:S.width,height:S.height}},p=S=>{const _=b.value[S];return _?{x:_.x/100*c.value.width,y:_.y/100*c.value.height}:{x:0,y:0}},v=S=>b.value[S]||{x:50,y:50},I=S=>({小王子:"👑",飞行员:"✈️",狐狸:"🦊",玫瑰:"🌹",国王:"🤴",爱慕虚荣的人:"💫",酒鬼:"🍷",商人:"💰",点灯人:"💡",地理学家:"🗺️"})[S]||"👤",z=S=>ae.find(_=>_.name===S)?.role||"",H=S=>ae.find(_=>_.name===S)?.description||"",A=S=>["小王子","飞行员","狐狸","玫瑰"].includes(S),K=S=>S.relationships?.length?X[S.relationships.reduce((_,x)=>_.strength>x.strength?_:x).type].color:"#6b7280",W=S=>ae.find(_=>_.name===S)?.relationships||[],U=q(()=>{const S=[];return ae.forEach(_=>_.relationships?.forEach(x=>{a.value[x.type]&&S.push({source:_.name,target:x.target,type:x.type,strength:x.strength})})),S}),J=S=>a.value[S]=!a.value[S],y=S=>i.value=i.value===S?null:S,T=S=>{s.value=S,u.value=0,j()},h=()=>{s.value=null,P()},w=()=>{s.value?.quotes?.length&&(u.value=(u.value+1)%s.value.quotes.length)},O=()=>{s.value?.quotes?.length&&(u.value=(u.value-1+s.value.quotes.length)%s.value.quotes.length)},j=()=>{P(),B=setInterval(()=>w(),4e3)},P=()=>{B&&clearInterval(B)};let B=null,F,Q;const ee=()=>{if(!d.value)return;const S=d.value,_=d.value.getBoundingClientRect();S.width=_.width,S.height=_.height,F=S.getContext("2d"),F.clearRect(0,0,_.width,_.height),U.value.forEach(x=>{const D=p(x.source),k=p(x.target),m=X[x.type].color;F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(k.x,k.y),F.strokeStyle=m,F.lineWidth=Math.max(x.strength/3,1.5),F.globalAlpha=.7,F.stroke()})},se=()=>{cancelAnimationFrame(Q),Q=requestAnimationFrame(ee)};return ne([U,c],se,{deep:!0}),ce(()=>{me(()=>{t(),se()}),window.addEventListener("resize",()=>{t(),se()})}),Se(()=>{P(),cancelAnimationFrame(Q)}),(S,_)=>(l(),n("div",no,[_[7]||(_[7]=e("div",{class:"stars"},null,-1)),_[8]||(_[8]=e("div",{class:"meteors"},null,-1)),e("header",io,[_[2]||(_[2]=e("h2",{class:"text-2xl lg:text-3xl font-bold text-star-blue-700 dark:text-star-blue-300 font-handwriting gentle-float"}," 《小王子》角色介绍 ",-1)),_[3]||(_[3]=e("p",{class:"text-gray-600 dark:text-gray-400 mt-2 max-w-2xl mx-auto text-sm lg:text-base"}," 探索小王子宇宙中的每一个独特灵魂，每个角色都像一颗闪耀的星星 ",-1)),e("div",co,[e("button",{onClick:_[0]||(_[0]=x=>g.value="cards"),class:M(["px-4 py-2 lg:px-6 lg:py-2 rounded-full font-medium transition-all duration-300 text-sm lg:text-base",g.value==="cards"?"bg-desert-yellow-500 text-white shadow-lg":"bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 hover:bg-desert-yellow-100 dark:hover:bg-desert-yellow-900"])}," 📋 卡片视图 ",2),e("button",{onClick:_[1]||(_[1]=x=>g.value="graph"),class:M(["px-4 py-2 lg:px-6 lg:py-2 rounded-full font-medium transition-all duration-300 text-sm lg:text-base",g.value==="graph"?"bg-star-blue-500 text-white shadow-lg":"bg-white/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 hover:bg-star-blue-100 dark:hover:bg-star-blue-900"])}," 🕸️ 关系图谱 ",2)])]),g.value==="cards"?(l(),n("div",uo,[(l(!0),n(L,null,V(R(ae),(x,D)=>(l(),n("div",{key:D,class:"group cursor-pointer transform transition-all duration-500 hover:scale-105",onClick:k=>T(x)},[e("div",bo,[e("div",xo,[e("div",mo,o(I(x.name)),1),e("h3",po,o(x.name),1),e("p",yo,o(x.role),1)]),e("p",ho,o(x.description),1),x.relationships?(l(),n("div",vo,[(l(!0),n(L,null,V(x.relationships.slice(0,2),k=>(l(),n("div",{key:k.target,class:"flex items-center justify-between text-xs"},[e("span",fo,o(k.target),1),e("span",{class:"px-2 py-1 rounded-full flex items-center gap-1 flex-shrink-0 border",style:G({backgroundColor:R(X)[k.type].color+"20",color:R(X)[k.type].color,borderColor:R(X)[k.type].color+"40"})},[e("span",null,o(R(X)[k.type].emoji),1),e("span",ko,o(R(X)[k.type].name),1)],4)]))),128))])):E("",!0)])],8,go))),128))])):E("",!0),g.value==="graph"?(l(),n("div",wo,[e("div",_o,[(l(!0),n(L,null,V(R(X),(x,D)=>(l(),n("div",{key:D,onClick:k=>J(D),class:M(["flex items-center gap-2 px-3 py-2 rounded-full cursor-pointer transition-all duration-300 border text-sm",a.value[D]?"border-opacity-100 scale-105 shadow-md":"border-opacity-30 hover:border-opacity-70"]),style:G({borderColor:x.color,backgroundColor:a.value[D]?x.color+"20":"transparent"})},[e("span",{style:G({color:x.color})},o(x.emoji),5),e("span",{style:G({color:a.value[D]?x.color:"#6b7280"})},o(x.name),5)],14,$o))),128))]),e("div",Co,[e("canvas",{ref_key:"graphCanvas",ref:d,class:"absolute inset-0 w-full h-full pointer-events-none"},null,512),(l(!0),n(L,null,V(R(ae),(x,D)=>(l(),n("div",{key:x.name,class:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-700 ease-out",style:G({left:`${v(x.name).x}%`,top:`${v(x.name).y}%`,zIndex:i.value===x.name?100:10}),onClick:k=>y(x.name)},[e("div",{class:M(["group cursor-pointer transform transition-all duration-300",i.value===x.name?"scale-125 ring-4 ring-desert-yellow-400 shadow-2xl":"hover:scale-110 hover:shadow-lg"])},[e("div",{class:M(["w-16 h-16 rounded-2xl flex items-center justify-center text-2xl shadow-lg relative overflow-hidden border-2 border-white dark:border-gray-800 cosmic-node",[A(x.name)?"bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-600 dark:to-rose-red-600":"bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-600 dark:to-gray-700"]])},[re(o(I(x.name))+" ",1),i.value===x.name?(l(),n("div",{key:0,class:"absolute inset-0 rounded-2xl animate-pulse cosmic-glow",style:G({boxShadow:`0 0 20px ${K(x)}`})},null,4)):E("",!0)],2),e("div",Io,o(x.name),1)],2)],12,So))),128))]),e("div",To,[e("div",jo,[i.value?(l(),n("div",Bo,[e("div",zo,[e("div",Mo,[e("div",No,o(I(i.value)),1),e("div",null,[e("h3",Po,o(i.value),1),e("p",Do,o(z(i.value)),1)])]),e("p",Eo,o(H(i.value)),1)]),_[5]||(_[5]=e("h4",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4"},"关系网络",-1)),e("div",Fo,[(l(!0),n(L,null,V(W(i.value),x=>(l(),n("div",{key:x.target,class:"bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-xl p-4 border-l-4 shadow-sm hover:shadow-md transition-all duration-300",style:G({borderLeftColor:R(X)[x.type].color})},[e("div",Ho,[e("div",{class:M(["w-10 h-10 rounded-xl flex items-center justify-center text-lg flex-shrink-0",[A(x.target)?"bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-600 dark:to-rose-red-600":"bg-gray-200 dark:bg-gray-600"]])},o(I(x.target)),3),e("div",Ao,[e("h5",Oo,o(x.target),1),e("span",{class:"text-xs px-2 py-1 rounded-full inline-flex items-center gap-1 border",style:G({backgroundColor:R(X)[x.type].color+"20",color:R(X)[x.type].color,borderColor:R(X)[x.type].color+"40"})},[e("span",null,o(R(X)[x.type].emoji),1),e("span",null,o(R(X)[x.type].name),1)],4)])]),e("p",qo,o(x.description),1)],4))),128))])])):(l(),n("div",Ro,[..._[4]||(_[4]=[e("div",{class:"text-4xl mb-3"},"✨",-1),e("h3",{class:"text-lg font-semibold mb-1"},"选择角色查看关系",-1),e("p",{class:"text-sm"},"点击上方图谱中的角色节点",-1)])]))])])])):E("",!0),Z(de,{name:"fade"},{default:ie(()=>[s.value?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",onClick:ye(h,["self"])},[e("div",Lo,[_[6]||(_[6]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-200/30 to-rose-200/30 animate-spin-slow rounded-full scale-150"},null,-1)),e("div",Vo,[e("div",Ko,o(I(s.value.name)),1),e("h2",Uo,o(s.value.name),1),e("p",Jo,o(s.value.description),1),Z(de,{name:"quote-fade",mode:"out-in"},{default:ie(()=>[s.value.quotes&&s.value.quotes.length?(l(),n("p",{key:u.value,class:"italic text-gray-700 dark:text-gray-300 mb-4 lg:mb-6 text-base lg:text-lg"},' "'+o(s.value.quotes[u.value])+'" ',1)):E("",!0)]),_:1}),e("div",{class:"flex justify-center gap-3 lg:gap-4"},[e("button",{onClick:O,class:"px-3 py-1 lg:px-4 lg:py-2 rounded-lg bg-rose-200 hover:bg-rose-300 text-xs lg:text-sm transition-colors"}," 上一句 "),e("button",{onClick:w,class:"px-3 py-1 lg:px-4 lg:py-2 rounded-lg bg-desert-yellow-200 hover:bg-desert-yellow-300 text-xs lg:text-sm transition-colors"}," 下一句 ")]),e("button",{onClick:h,class:"absolute top-3 right-3 lg:top-4 lg:right-4 w-6 h-6 lg:w-8 lg:h-8 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center transition-colors duration-200 text-gray-600 dark:text-gray-300"}," × ")])])])):E("",!0)]),_:1})]))}},Wo=oe(Qo,[["__scopeId","data-v-b728d8f7"]]),Xo={class:"world-view relative overflow-hidden min-h-screen bg-gradient-to-b from-star-blue-50 to-white dark:from-gray-900 dark:to-gray-950"},Yo={class:"space-y-12 relative z-10 px-6 pb-20 max-w-5xl mx-auto"},Go={class:"card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden hover:shadow-2xl transition-all duration-500"},Zo={class:"relative z-10"},es={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ts={class:"flex items-center gap-4 mb-3"},rs={class:"font-semibold text-gray-800 dark:text-gray-200 group-hover:text-desert-yellow-600 transition-colors"},os={class:"text-sm text-gray-500 dark:text-gray-400"},ss={class:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed"},as={class:"card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden hover:shadow-2xl transition-all duration-500"},ls={class:"relative z-10"},ns={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},is={class:"font-semibold text-gray-800 dark:text-gray-200"},ds={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},cs={class:"card p-8 rounded-3xl backdrop-blur-md bg-white/70 dark:bg-gray-800/60 border border-white/30 dark:border-gray-700/50 shadow-xl relative overflow-hidden hover:shadow-2xl transition-all duration-500"},us={class:"relative z-10"},gs={class:"space-y-5"},bs={class:"text-gray-700 dark:text-gray-300 italic leading-relaxed"},xs={__name:"WorldView",setup(r){const g=[{name:"B-612 小行星",desc:"小王子的故乡",meaning:"有三座火山和一朵独一无二的玫瑰，象征着纯真与责任的起点。",icon:"🌍",bg:"bg-gradient-to-br from-desert-yellow-50 to-orange-50 dark:from-desert-yellow-900/20 dark:to-orange-900/20",iconBg:"bg-gradient-to-br from-desert-yellow-400 to-orange-400"},{name:"地球",desc:"旅程的终点",meaning:"小王子旅行的终点，遇见了狐狸、蛇和各种人类，象征着成长与智慧。",icon:"🌎",bg:"bg-gradient-to-br from-star-blue-50 to-green-50 dark:from-star-blue-900/20 dark:to-green-900/20",iconBg:"bg-gradient-to-br from-star-blue-400 to-green-400"}],s=[{name:"玫瑰",meaning:"象征爱情、美丽与脆弱",dot:"bg-rose-red-500"},{name:"狐狸",meaning:"象征智慧、友谊与驯养",dot:"bg-desert-yellow-500"},{name:"蛇",meaning:"象征死亡与轮回",dot:"bg-purple-500"}],i=["真正重要的东西，用眼睛是看不见的，要用心。","你为你的玫瑰失去的时间，使你的玫瑰变得重要了。","所有的大人都曾经是小孩，虽然，只有少数的人记得。","你要永远为你驯养的东西负责。"];return(u,a)=>(l(),n("div",Xo,[a[7]||(a[7]=xe('<div class="stars" data-v-58be1560></div><div class="meteors" data-v-58be1560></div><header class="text-center mb-12 relative z-10 pt-12" data-v-58be1560><h2 class="text-3xl lg:text-4xl font-bold text-star-blue-700 dark:text-star-blue-300 font-handwriting gentle-float drop-shadow-lg" data-v-58be1560> 《小王子》宇宙观 </h2><p class="text-gray-600 dark:text-gray-400 mt-4 max-w-2xl mx-auto leading-relaxed" data-v-58be1560> 穿越星海，探寻每一颗星球背后的哲思与象征，它们组成了小王子的精神宇宙。 </p></header>',3)),e("div",Yo,[e("div",Go,[a[1]||(a[1]=e("div",{class:"absolute top-0 right-0 w-56 h-56 bg-gradient-to-bl from-desert-yellow-200/40 to-transparent rounded-full -translate-y-20 translate-x-20 blur-2xl"},null,-1)),e("div",Zo,[a[0]||(a[0]=e("h3",{class:"text-2xl font-semibold mb-6 text-desert-yellow-600 dark:text-desert-yellow-400 flex items-center gap-3"},[e("span",{class:"text-3xl"},"🪐"),re(" 主要星球 ")],-1)),e("div",es,[(l(),n(L,null,V(g,d=>e("div",{key:d.name,class:M(["p-6 rounded-2xl border transition-all duration-500 hover:-translate-y-1 hover:shadow-lg backdrop-blur-sm",d.bg])},[e("div",ts,[e("div",{class:M(["w-12 h-12 rounded-2xl flex items-center justify-center text-white text-lg shadow-lg",d.iconBg])},o(d.icon),3),e("div",null,[e("h4",rs,o(d.name),1),e("p",os,o(d.desc),1)])]),e("p",ss,o(d.meaning),1)],2)),64))])])]),e("div",as,[a[3]||(a[3]=e("div",{class:"absolute -bottom-10 -left-10 w-56 h-56 bg-rose-red-200/30 dark:bg-rose-red-900/10 rounded-full blur-2xl"},null,-1)),e("div",ls,[a[2]||(a[2]=e("h3",{class:"text-2xl font-semibold mb-6 text-rose-red-600 dark:text-rose-red-400 flex items-center gap-3"},[e("span",{class:"text-3xl"},"🔮"),re(" 象征意义 ")],-1)),e("div",ns,[(l(),n(L,null,V(s,d=>e("div",{key:d.name,class:"flex items-center gap-4 p-5 bg-gradient-to-br from-white/80 to-gray-50/70 dark:from-gray-800/70 dark:to-gray-900/60 rounded-2xl border border-white/20 hover:border-rose-red-300 hover:shadow-lg transition-all duration-300 group"},[e("div",{class:M(["w-4 h-4 rounded-full flex-shrink-0 group-hover:scale-125 transition-transform duration-300",d.dot])},null,2),e("div",null,[e("span",is,o(d.name),1),e("p",ds,o(d.meaning),1)])])),64))])])]),e("div",cs,[a[5]||(a[5]=e("div",{class:"absolute top-4 right-4 w-16 h-16 bg-gradient-to-br from-desert-yellow-400/20 to-rose-red-400/20 rounded-full blur-xl"},null,-1)),a[6]||(a[6]=e("div",{class:"absolute bottom-4 left-4 w-20 h-20 bg-gradient-to-br from-star-blue-400/20 to-green-400/20 rounded-full blur-xl"},null,-1)),e("div",us,[a[4]||(a[4]=e("h3",{class:"text-2xl font-semibold mb-6 text-star-blue-600 dark:text-star-blue-400 flex items-center gap-3"},[e("span",{class:"text-3xl"},"💭"),re(" 哲学主题 ")],-1)),e("div",gs,[(l(),n(L,null,V(i,(d,c)=>e("div",{key:c,class:"p-5 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-2xl border-l-4 border-desert-yellow-400 hover:shadow-md transition-all duration-300"},[e("p",bs," “"+o(d)+"” ",1)])),64))])])])])]))}},ms=oe(xs,[["__scopeId","data-v-58be1560"]]),ps={class:"lg:hidden p-4 border-b border-star-blue-200 dark:border-star-blue-600 flex justify-between items-center backdrop-blur-card bg-white/80 dark:bg-gray-800/80"},ys={class:"text-xl font-bold text-star-blue-600 dark:text-star-blue-400 font-handwriting gentle-float"},hs={class:"flex-1 p-4 lg:p-8 max-w-5xl mx-auto w-full overflow-hidden"},vs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"},fs={class:"relative w-[90%] max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6"},ks={class:"card p-6 lg:p-8"},ws={key:"reader",class:"view-content"},_s={key:"outline",class:"view-content"},$s={key:"characters",class:"view-content"},Cs={key:"world",class:"view-content"},Ss={__name:"NovelLayout",setup(r){const g=$("reader"),s=$(!1),i=$(!1),u=$(!1),a=$(!1),d=$(16),c=$("serif"),b=$(1.6),t=$(0),p=$(Ie),v=$(null),I=q(()=>p.value[t.value]||[]),z=q(()=>v.value?.hasBookmark||!1),H=[{key:"reader",label:"阅读模式",icon:"📖"},{key:"outline",label:"小说大纲",icon:"🗺️"},{key:"characters",label:"角色设定",icon:"👥"},{key:"world",label:"世界观",icon:"🌍"}],A=(C,N="")=>{console.error(`小王子阅读器错误 [${N}]:`,C)},K=()=>{s.value=!s.value,localStorage.setItem("darkMode",s.value)},W=()=>{u.value=!u.value},U=()=>{u.value=!1},J=C=>{t.value=C,g.value="reader",u.value=!1,x(),me(()=>{})},y=C=>{g.value=C,a.value=!1,U()},T=()=>{a.value=!a.value},h=()=>{t.value<p.value.length-1&&(t.value++,x())},w=()=>{t.value>0&&(t.value--,x())},O=()=>{try{h()}catch(C){A(C,"nextChapter")}},j=()=>{try{w()}catch(C){A(C,"prevChapter")}},P=()=>{d.value<24&&(d.value+=1,D())},B=()=>{d.value>14&&(d.value-=1,D())},F=()=>{b.value<2&&(b.value=Number((Number(b.value)+.1).toFixed(1)),D())},Q=()=>{b.value>1.2&&(b.value=Number((Number(b.value)-.1).toFixed(1)),D())},ee=C=>{c.value=C,D()},se=()=>{v.value?.addBookmark&&v.value.addBookmark()},S=C=>{v.value?.jumpToBookmark&&(C.chapterIndex!==t.value&&J(C.chapterIndex),me(()=>{setTimeout(()=>{v.value.jumpToBookmark(C)},100)}))},_=C=>{console.log("书签已添加:",C)},x=()=>{localStorage.setItem("lastChapter",t.value)},D=()=>{const C={fontSize:d.value,fontFamily:c.value,lineHeight:b.value};localStorage.setItem("readingPreferences",JSON.stringify(C))},k=()=>{const C=localStorage.getItem("readingPreferences");if(C){const N=JSON.parse(C);d.value=N.fontSize||16,c.value=N.fontFamily||"serif",b.value=N.lineHeight||1.6}},m=()=>{const C=localStorage.getItem("lastChapter");C!==null&&(t.value=parseInt(C))},f=()=>{const C=N=>{N.target.tagName==="INPUT"||N.target.tagName==="TEXTAREA"||N.target.isContentEditable||(N.key==="ArrowLeft"&&j(),N.key==="ArrowRight"&&O(),(N.key==="d"||N.key==="D")&&K(),(N.key==="b"||N.key==="B")&&(se(),N.preventDefault()),N.key==="Escape"&&(u.value=!1,a.value=!1,i.value=!1),N.key==="?"&&(i.value=!i.value))};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)};return ce(()=>{m(),k();const C=localStorage.getItem("darkMode");C!==null&&(s.value=JSON.parse(C)),f(),Te()}),(C,N)=>(l(),n("div",{class:M(["flex flex-col lg:flex-row min-h-screen transition-all duration-500 relative bg-star-pattern",s.value?"dark bg-gradient-to-br from-star-blue-900 to-star-blue-800 text-gray-100":"bg-gradient-to-br from-star-blue-50 to-desert-yellow-50 text-gray-900"])},[e("div",ps,[e("h1",ys,o(R(fe).title),1),e("button",{onClick:W,class:"p-2 rounded-lg hover:bg-desert-yellow-100 dark:hover:bg-star-blue-700 transition text-desert-yellow-600 dark:text-desert-yellow-400 star-twinkle"}," ✰ ")]),Z(wt,{chapters:p.value,"chapter-index":t.value,"current-view":g.value,"show-mobile-menu":u.value,views:H,onOpenChapter:J,onSwitchView:y,onCloseMobileMenu:N[0]||(N[0]=he=>u.value=!1),onJumpToBookmark:S},null,8,["chapters","chapter-index","current-view","show-mobile-menu"]),u.value?(l(),n("div",{key:0,class:"fixed inset-0 bg-star-blue-900/50 backdrop-blur-sm z-30 lg:hidden",onClick:U})):E("",!0),e("main",hs,[Z(de,{name:"fade"},{default:ie(()=>[g.value==="reader"&&a.value?(l(),n("div",vs,[e("button",{class:"absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-br from-desert-yellow-200 to-rose-red-200 dark:from-desert-yellow-900 dark:to-rose-red-900 text-gray-800 dark:text-gray-200 shadow-md hover:scale-110 transition-transform duration-200",onClick:T}," ✕ "),e("div",fs,[Z(Pt,{"font-size":d.value,"font-family":c.value,"line-height":b.value,onClose:T,onIncreaseFontSize:P,onDecreaseFontSize:B,onIncreaseLineHeight:F,onDecreaseLineHeight:Q,onUpdateFontFamily:ee},null,8,["font-size","font-family","line-height"])])])):E("",!0)]),_:1}),e("div",ks,[Z(de,{name:"fade",mode:"out-in"},{default:ie(()=>[g.value==="reader"?(l(),n("div",ws,[Z(Lr,{ref_key:"readerRef",ref:v,"novel-info":R(fe),"chapter-index":t.value,chapters:p.value,"current-chapter":I.value,"font-size":d.value,"font-family":c.value,"line-height":b.value,onPrevChapter:j,onNextChapter:O,onBookmarkAdded:_},null,8,["novel-info","chapter-index","chapters","current-chapter","font-size","font-family","line-height"])])):g.value==="outline"?(l(),n("div",_s,[Z(lo)])):g.value==="characters"?(l(),n("div",$s,[Z(Wo,{characters:R(ae)},null,8,["characters"])])):g.value==="world"?(l(),n("div",Cs,[Z(ms)])):E("",!0)]),_:1})]),g.value==="reader"?(l(),ve(Ht,{key:0,"chapter-index":t.value,"total-chapters":p.value.length,"is-dark":s.value,"show-reading-settings":a.value,"has-bookmark":z.value,onPrevChapter:j,onNextChapter:O,onToggleReadingSettings:T,onToggleDarkMode:K,onAddBookmark:se,onShowShortcuts:N[1]||(N[1]=he=>i.value=!0)},null,8,["chapter-index","total-chapters","is-dark","show-reading-settings","has-bookmark"])):E("",!0),i.value?(l(),ve(Jt,{key:1,onClose:N[2]||(N[2]=he=>i.value=!1)})):E("",!0)])],2))}},Ts=oe(Ss,[["__scopeId","data-v-076446c6"]]);export{Ts as default};
